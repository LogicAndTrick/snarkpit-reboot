/*! For license information please see app.js.LICENSE.txt */
(()=>{var e,t={7080:(e,t,n)=>{n(1689),window.Offcanvas=n(6169)},626:()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(){"use strict";t=function(){return n};var n={},i=Object.prototype,r=i.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof p?t:p,s=Object.create(r.prototype),a=new C(i||[]);return o(s,"_invoke",{value:E(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=u;var g={};function p(){}function m(){}function f(){}var b={};d(b,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(A([])));y&&y!==i&&r.call(y,a)&&(b=y);var w=f.prototype=p.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function k(t,n){function i(o,s,a,l){var c=h(t[o],t,s);if("throw"!==c.type){var d=c.arg,u=d.value;return u&&"object"==e(u)&&r.call(u,"__await")?n.resolve(u.__await).then((function(e){i("next",e,a,l)}),(function(e){i("throw",e,a,l)})):n.resolve(u).then((function(e){d.value=e,a(d)}),(function(e){return i("throw",e,a,l)}))}l(c.arg)}var s;o(this,"_invoke",{value:function(e,t){function r(){return new n((function(n,r){i(e,t,n,r)}))}return s=s?s.then(r,r):r()}})}function E(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return O()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=T(s,n);if(a){if(a===g)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=h(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function T(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,T(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var r=h(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,g;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,g):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return m.prototype=f,o(w,"constructor",{value:f,configurable:!0}),o(f,"constructor",{value:m,configurable:!0}),m.displayName=d(f,c,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,d(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},n.awrap=function(e){return{__await:e}},_(k.prototype),d(k.prototype,l,(function(){return this})),n.AsyncIterator=k,n.async=function(e,t,i,r,o){void 0===o&&(o=Promise);var s=new k(u(e,t,i,r),o);return n.isGeneratorFunction(t)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},_(w),d(w,c,"Generator"),d(w,a,(function(){return this})),d(w,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},n.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;N(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),g}},n}function n(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function i(e){return function(){var t=this,i=arguments;return new Promise((function(r,o){var s=e.apply(t,i);function a(e){n(s,r,o,a,l,"next",e)}function l(e){n(s,r,o,a,l,"throw",e)}a(void 0)}))}}function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var s=window.parser;function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,r=document.createElement(e);return t&&(r.className=t),n&&r.append(n),i&&i(r),r}function l(e,t,n,i,r){var o=e.value||"",s=e.selectionStart||0,a=e.selectionEnd||0,l=o.substring(0,s),c=0===l.length||"\n"===l[l.length],d=!0!==r||c?l:l+"\n",u=o.substring(s,a),h=u||n,g=o.substring(a),p=t.indexOf("CUR1"),m=t.indexOf("CUR2"),f=t.replace("CUR1",h).replace("CUR2",i);e.value=d+f+g,e.focus(),m<0&&(m=Number.MAX_VALUE);var b=d.length+p+(m<p?i.length-4:0),v=b+h.length;u&&m<=o.length&&(v=(b=d.length+m+(m>p?u.length-4:0))+i.length),e.setSelectionRange(b,v),e.dispatchEvent(new Event("change",{bubbles:!0}))}var c=[[{icon:"bold",title:"Bold text",template:"*CUR1*",cur1:"bold text",cur2:""},{icon:"italic",title:"Italic text",template:"/CUR1/",cur1:"italic text",cur2:""},{icon:"underline",title:"Underline text",template:"_CUR1_",cur1:"underline text",cur2:""},{icon:"strikethrough",title:"Strikethrough text",template:"~CUR1~",cur1:"strikethrough text",cur2:""},{icon:"code",title:"Code",template:"`CUR1`",cur1:"code",cur2:""},{icon:"palette",title:"Colour",template:"[color=CUR2]CUR1[/color]",cur1:"text",cur2:"red"}],[{icon:"header",text:"1",title:"Header 1",template:"= CUR1",cur1:"Header",cur2:""},{icon:"header",text:"2",title:"Header 2",template:"== CUR1",cur1:"Header",cur2:""},{icon:"header",text:"3",title:"Header 3",template:"=== CUR1",cur1:"Header",cur2:""}],[{icon:"link",title:"Link",template:"[CUR2|CUR1]",cur1:"link text",cur2:"http://example.com/"},{icon:"image",title:"Image",template:"[img:CUR2|CUR1]",cur1:"caption text",cur2:"http://example.com/image.jpg"},{icon:"video-camera",title:"Youtube",template:"[youtube:CUR2|CUR1]",cur1:"caption text",cur2:"youtube_id"},{icon:"quote-right",title:"Quote",template:"> CUR1",cur1:"quoted text",cur2:"",force_newline:!0}],[{icon:"list-ul",title:"Unsorted List",template:"- CUR1",cur1:"Item 1",cur2:"",force_newline:!0},{icon:"list-ol",title:"Sorted List",template:"# CUR1",cur1:"Item 1",cur2:"",force_newline:!0}]],d=[{img:"icon_biggrin",code:":D"},{img:"icon_smile",code:":)"},{img:"dorky",code:":geek:"},{img:"sad0019",code:":("},{img:"icon_eek",code:":-o"},{img:"confused",code:":confused:"},{img:"icon_cool",code:"8-)"},{img:"kitty",code:":k1tt3h:"},{img:"laughing",code:":lol:"},{img:"leper",code:":leper:"},{img:"mad",code:":mad:"},{img:"tongue0010",code:":p"},{img:"icon_redface",code:":oops:"},{img:"icon_twisted",code:":evil:"},{img:"rolleye0011",code:":roll:"},{img:"shocked",code:":scream:"},{img:"icon_wink",code:";)"},{img:"dodgy",code:":naughty:"},{img:"heee",code:":hee:"},{img:"44",code:"~o)"},{img:"wcc",code:":wcc:"},{img:"smiley_sherlock",code:":sherlock:"},{img:"nag",code:":nag:"},{img:"rolling_eyes",code:":rolling:"},{img:"angryfire",code:":flame:"},{img:"character",code:":ghost:"},{img:"character0007",code:":pirate:"},{img:"indifferent0016",code:":zzz:"},{img:"indifferent0002",code:":|"},{img:"love0012",code:":love:"},{img:"rolleye0006",code:":lookup:"},{img:"sad0006",code:";("},{img:"scared0005",code:":scared:"},{img:"flail",code:":flail:"},{img:"emot-cowjump",code:":cowjump:"},{img:"emot-eng101",code:":teach:"},{img:"uncertain",code:":uncertain:"},{img:"1sm071potstir",code:":stirring:"},{img:"thumbs_up",code:":thumbsup:"},{img:"happy_open",code:":happy:"}],u=[{img:"sailor",code:":sailor:"},{img:"grenade",code:":grenade:"},{img:"popcorn",code:":popcorn:"},{img:"icon_cry",code:":cry:"},{img:"dead",code:":dead:"},{img:"pimp",code:":pimp:"},{img:"beerchug",code:":beer:"},{img:"chainsaw",code:":chainsaw:"},{img:"arse",code:":moonie:"},{img:"angel",code:":angel:"},{img:"bday",code:":bday:"},{img:"clap",code:":clap:"},{img:"computer",code:":computer:"},{img:"crash",code:":pccrash:"},{img:"dizzy",code:":dizzy:"},{img:"drink",code:":drink:"},{img:"facelick",code:":lick:"},{img:"frown",code:">:("},{img:"imwithstupid",code:":imwithstupid:"},{img:"jawdrop",code:":jawdrop:"},{img:"king",code:":king:"},{img:"ladysman",code:":ladysman:"},{img:"mrT",code:":mrt:"},{img:"nurse",code:":nurse:"},{img:"outtahere",code:":outtahere:"},{img:"aaatrigger",code:":aaatrigger:"},{img:"repuke",code:":repuke:"},{img:"rofl",code:":rofl:"},{img:"rolling",code:":rolling2:"},{img:"santa",code:":santa:"},{img:"smash",code:":smash:"},{img:"toilet",code:":toilet:"},{img:"wavey",code:":wavey:"},{img:"upyours",code:":stfu:"},{img:"fart",code:":fart:"},{img:"trout",code:":trout:"},{img:"ar15firing",code:":machinegun:"},{img:"microwave",code:":microwave:"},{img:"guillotine",code:":guillotine:"},{img:"poke",code:":poke:"},{img:"sniper",code:":sniper:"},{img:"monkee",code:":monkee:"},{img:"bandit",code:":gringo:"},{img:"wtf",code:":wtf:"},{img:"azelito",code:":azelito:"},{img:"crate",code:":crate:"},{img:"argh",code:":-&amp;"},{img:"swear",code:":swear:"},{img:"rocketwhore",code:":launcher:"},{img:"skull",code:":skull:"},{img:"munky",code:":munky:"},{img:"evilgrin",code:":E"},{img:"banghead",code:":brickwall:"},{img:"snark_topic_icon",code:":snark:"}];window.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".bbcode-input").forEach((function(e){var n=a("div","form-group"),o=a("div","mb-1 d-flex align-items-center",a("h4","me-auto","Message preview")),h=a("button","btn btn-info btn-xs ms-2","Update Preview",(function(e){return e.type="button"})),g=a("div","card"),p=a("div","card-body bbcode"),m=e.closest("form"),f=e.querySelector("textarea"),b=f.getAttribute("name"),v=a("a","float-end btn btn-outline-secondary mb-1","Formatting help",(function(e){e.target="_blank",e.href=window.urls.formatting_help})),y=a("div","mb-1"),w=a("div","row"),_=a("div","col-9"),k=a("div","col-3"),E=a("input","form-check-input",void 0,(function(e){e.type="checkbox"})),T=a("label","form-check w-auto","Live preview");w.append(_),w.append(k),_.append.apply(_,r(e.children)),e.append(w),E.checked=!document.cookie.split(";").some((function(e){return e.includes("live_preview=no")})),T.prepend(E),o.append(T),o.append(h),g.append(p),n.append(o,g),_.append(n),f.parentElement.prepend(v),f.before(y),function(e,t){var n=a("div","btn-toolbar d-none d-md-flex");e.append(n);for(var i=0;i<c.length;i++){var r=a("div","btn-group btn-group-xs mr-2");n.append(r);for(var o=c[i],s=function(){var e=o[d],n=a("button","btn btn-outline-dark btn-xs");n.setAttribute("title",e.title),e.icon&&n.append(a("span","fa fa-"+e.icon)),e.text&&n.append(a("span",""," "+e.text)),r.append(n),n.addEventListener("click",(function(n){l(t,e.template,e.cur1,e.cur2,e.force_newline),n.preventDefault()}))},d=0;d<o.length;d++)s()}}(y,f),function(e,t){var n=a("div","editor-smilies");e.append(n),n.append(a("h2","text-center mb-2","Smilies"));var i=a("section","");n.append(i);var r=a("div","");i.append(r);for(var o=0;o<d.length;o++){var s=d[o],c=document.createElement("img");c.src=window.urls.images.smiley_folder+"/"+s.img+".gif",c.alt=s.code;var h=document.createElement("a");h.href="#",h.title=s.code,h.append(c),r.append(h),h.addEventListener("click",(function(e){e.preventDefault(),l(t," "+e.currentTarget.getAttribute("title")+" CUR1","","")}))}var g=a("a","","Show more",(function(e){return e.href="#"})),p=a("div","more-link text-center",g);i.append(p);var m=a("div","d-none");i.append(m);for(var f=0;f<u.length;f++){var b=u[f],v=document.createElement("img");v.src=window.urls.images.smiley_folder+"/"+b.img+".gif",v.alt=b.code;var y=document.createElement("a");y.href="#",y.title=b.code,y.append(v),m.append(y),y.addEventListener("click",(function(e){e.preventDefault(),l(t," "+e.currentTarget.getAttribute("title")+" CUR1","","")}))}g.addEventListener("click",(function(e){g.textContent=m.classList.contains("d-none")?"Show less":"Show more",m.classList.toggle("d-none"),e.preventDefault()}))}(k,f);var x=function(){var e=i(t().mark((function e(){var n,i,r,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FormData(m),i=s.ParseResult(n.get(b)),r=i.ToHtml(),o=new CustomEvent("bbcode-preview-updating",{detail:{html:r,element:p}}),f.dispatchEvent(o),e.next=7,Promise.resolve(o.detail.html);case 7:p.innerHTML=e.sent,p.querySelectorAll("pre code").forEach((function(e){hljs.highlightElement(e)})),f.dispatchEvent(new CustomEvent("bbcode-preview-updated",{detail:{element:p}}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();h.addEventListener("click",x);var N=void 0,C=function(){clearTimeout(N),E.checked&&(N=setTimeout((function(){x()}),250))};e.addEventListener("input",C),e.addEventListener("change",C),E.addEventListener("change",(function(){h.classList.toggle("d-none",E.checked),document.cookie="live_preview=".concat(E.checked?"yes":"no","; expires=Fri, 31 Dec 9999 23:59:59 GMT;"),C()})),x(),h.classList.toggle("d-none",E.checked)})),document.addEventListener("paste",function(){var e=i(t().mark((function e(n){var i,r,o,s,a,c,d,u,h,g,p,m;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=document.activeElement)&&i.closest(".bbcode-input")){e.next=3;break}return e.abrupt("return");case 3:if((r=n.clipboardData).getData&&1===r.items.length){e.next=6;break}return e.abrupt("return");case 6:if(o=r.items[0],(s=o.getAsFile())&&s instanceof File){e.next=10;break}return e.abrupt("return");case 10:e.t0=o.type,e.next="image/gif"===e.t0?13:"image/png"===e.t0?15:"image/jpeg"===e.t0?17:19;break;case 13:return a="image.gif",e.abrupt("break",20);case 15:return a="image.png",e.abrupt("break",20);case 17:return a="image.jpg",e.abrupt("break",20);case 19:return e.abrupt("return");case 20:return n.preventDefault(),(c=new FormData).append("image",s,a),c.append("_token",document.head.querySelector('meta[name="csrf-token"]').content),d=Date.now(),l(i,"[img:"+(u="uploading image "+d+"...")+"]","","",!0),e.next=29,fetch(window.urls.api.image_upload,{method:"post",body:c});case 29:return h=e.sent,e.next=32,h.json();case 32:g=e.sent,p=h.ok?g.url:"Error: "+g.image[0],(m=i.value).indexOf(u)>=0?m=m.replace(u,p):m+="\n[img:"+p+"]",i.value=m;case 37:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var e=document.querySelector("#reply textarea");e&&document.querySelectorAll(".quote-post").forEach((function(n){var r=parseInt(n.getAttribute("data-post-id"),10);r&&n.addEventListener("click",i(t().mark((function n(){var i,o,s;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(window.urls.api.get_post,{method:"post",body:JSON.stringify({id:r,_token:document.head.querySelector('meta[name="csrf-token"]').content}),headers:{"Content-Type":"application/json"}});case 2:if((i=t.sent).ok){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,i.json();case 7:o=t.sent,s="[quote=".concat(o.user.name,"]\n").concat(o.content_text,"\n[/quote]"),l(e,s+"\n\nCUR1","","");case 10:case"end":return t.stop()}}),n)}))))}))}))},1689:(e,t,n)=>{n(3795),n(626),n(7707),n(3913),n(8405);var i=n(3390);i.registerLanguage("php",n(2656)),i.registerLanguage("dos",n(605)),i.registerLanguage("css",n(5064)),i.registerLanguage("cpp",n(6248)),i.registerLanguage("csharp",n(3707)),i.registerLanguage("ini",n(4762)),i.registerLanguage("json",n(14)),i.registerLanguage("xml",n(4610)),i.registerLanguage("angelscript",n(2921)),i.registerLanguage("javascript",n(978)),i.highlightAll(),window.hljs=i},8405:()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(){"use strict";t=function(){return n};var n={},i=Object.prototype,r=i.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof p?t:p,s=Object.create(r.prototype),a=new C(i||[]);return o(s,"_invoke",{value:E(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=u;var g={};function p(){}function m(){}function f(){}var b={};d(b,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(A([])));y&&y!==i&&r.call(y,a)&&(b=y);var w=f.prototype=p.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function k(t,n){function i(o,s,a,l){var c=h(t[o],t,s);if("throw"!==c.type){var d=c.arg,u=d.value;return u&&"object"==e(u)&&r.call(u,"__await")?n.resolve(u.__await).then((function(e){i("next",e,a,l)}),(function(e){i("throw",e,a,l)})):n.resolve(u).then((function(e){d.value=e,a(d)}),(function(e){return i("throw",e,a,l)}))}l(c.arg)}var s;o(this,"_invoke",{value:function(e,t){function r(){return new n((function(n,r){i(e,t,n,r)}))}return s=s?s.then(r,r):r()}})}function E(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return O()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=T(s,n);if(a){if(a===g)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=h(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function T(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,T(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var r=h(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,g;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,g):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return m.prototype=f,o(w,"constructor",{value:f,configurable:!0}),o(f,"constructor",{value:m,configurable:!0}),m.displayName=d(f,c,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,d(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},n.awrap=function(e){return{__await:e}},_(k.prototype),d(k.prototype,l,(function(){return this})),n.AsyncIterator=k,n.async=function(e,t,i,r,o){void 0===o&&(o=Promise);var s=new k(u(e,t,i,r),o);return n.isGeneratorFunction(t)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},_(w),d(w,c,"Generator"),d(w,a,(function(){return this})),d(w,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},n.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;N(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),g}},n}function n(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function i(e){var t=document.createElement("div");return t.textContent=e,t.innerHTML}function r(e){return(e=(e||"").toString()).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}document.addEventListener("click",(function(e){var t=e.target;if(t){var n=e.target.matches(".uninitialised")?e.target:t.closest(".uninitialised");if(n)if(n.closest(".video-content")){var i="https://www.youtube.com/embed/"+t.getAttribute("data-youtube-id")+"?autoplay=1&rel=0",r=document.createElement("iframe");r.setAttribute("src",i),r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen",""),r.classList.add("caption-body"),t.replaceWith(r)}}}));var o={error:function(e,t){var n='<div class="text-center">\n            <h2><span class="fa fa-warning"></span> Error: Unable to load '.concat(t.type,".</h2>\n        </div>");console.log(n);var i=document.createElement("div");i.innerHTML=n,e.replaceWith(i.children[0])},article:function(e,t){var n=t.forum_thread_id?'<li><a href="'.concat(r(window.urls.view.thread.replace("{id}",t.forum_thread_id)),'">Discussion topic &raquo;</a></li>'):"",o='\n            <div class="row">\n                <div class="col-3 text-center">\n                    <img class="img-fluid" src="'.concat(r(window.urls.images.root)).concat(r(t.current_version.thumbnail_file||"images/no_image.png"),'" alt="Article thumbnail" />\n                </div>\n                <div class="col-6">\n                    <h2>\n                        <a href="').concat(r(window.urls.view.article.replace("{slug}",t.current_version.slug)),'">').concat(i(t.current_version.title),'</a>\n                    </h2>\n                    <div class="bbcode">').concat(i(t.current_version.description),'</div>\n                </div>\n                <div class="col-3">\n                    <ul class="list-unstyled">\n                        <li>by <a href="').concat(r(window.urls.view.user.replace("{id}",t.user_id)),'">').concat(t.user.name,'</a></li>\n                        <li>in <a href="').concat(r(window.urls.list.article),"?game=").concat(r(t.game_id),"&cat=").concat(r(t.article_category_id),'">').concat(i(t.game.name)," &raquo; ").concat(i(t.category.name),"</a></li>\n                        <li>updated ").concat(i(new Date(t.created_at).toLocaleDateString()),"</li>\n                        <li>viewed ").concat(i(t.stat_views)," time").concat(1==t.stat_views?"":"s","</li>\n                        ").concat(n,"\n                    </ul>\n                </div>\n            </div>\n        ").trim(),s=document.createElement("div");s.innerHTML=o,e.replaceWith(s.children[0])},download:function(e,t){var n=t.mirror_list.map((function(e){return'<li class="mb-1"><a target="_blank" href="'.concat(r(e.url),'" class="btn btn-primary">').concat(i(e.text),"</a></li>")})).join(""),o=t.file_size_readable?"<li>Size: ".concat(t.file_size_readable,"</li>"):"",s='\n            <div class="row">\n                <div class="col-3 text-center">\n                    <img class="img-fluid" src="'.concat(r(window.urls.images.root)).concat(r(t.image_file||"images/no_image.png"),'" alt="Article thumbnail" />\n                </div>\n                <div class="col-6">\n                    <h2>\n                        <a href="').concat(r(window.urls.view.download.replace("{id}",t.id)),'">').concat(i(t.name),'</a>\n                    </h2>\n                    <div class="bbcode">').concat(t.content_html,'</div>\n                </div>\n                <div class="col-3">\n                    <ul class="list-unstyled">\n                        ').concat(n,"\n                        ").concat(o,'\n                        <li>by <a href="').concat(r(window.urls.view.user.replace("{id}",t.user_id)),'">').concat(i(t.user.name),'</a></li>\n                        <li>in <a href="').concat(r(window.urls.list.download),"?game=").concat(r(t.game_id),"&cat=").concat(r(t.download_category_id),'">').concat(i(t.game.name)," &raquo; ").concat(i(t.category.name),"</a></li>\n                        <li>updated ").concat(i(new Date(t.created_at).toLocaleDateString()),"</li>\n                        <li>downloaded ").concat(i(t.stat_downloads)," time").concat(1==t.stat_downloads?"":"s",'</li>\n                        <li><a href="').concat(r(window.urls.view.thread.replace("{id}",t.thread_id)),'">Discussion topic &raquo;</a></li>\n                    </ul>\n                </div>\n            </div>\n        ').trim(),a=document.createElement("div");a.innerHTML=s,e.replaceWith(a.children[0])},map:function(e,t){var n=t.images.length?t.images.map((function(e,t){return'<img class="img-fluid '.concat(0==t?"":"d-none",'" src="').concat(r(window.urls.images.root+e.image_file),'" />')})).join(""):'<img class="img-fluid" src="'.concat(r(window.urls.images.no_image),'" />'),o='\n            <div>\n                <h1 class="d-flex align-items-start">\n                    <a href="'.concat(r(window.urls.list.map),"?game=").concat(r(t.game_id),'">\n                        <img src="').concat(r(window.urls.images.root+"images/games/"+t.game_id+".png"),'" alt="').concat(t.game.name,'" />\n                    </a>\n                    <span class="flex-fill">\n                        <a href="').concat(r(window.urls.view.map.replace("{id}",t.id)),'">\n                            ').concat(i(t.name),'\n                        </a>\n                        by\n                        <a href="').concat(r(window.urls.view.user.replace("{id}",t.user_id)),'">\n                            ').concat(i(t.user.name),'\n                        </a>\n                    </span>\n                    <span class="game-image-filler"></span>\n                </h1>\n                <div class="image-cycler m-auto">\n                    ').concat(n,'\n                    <span class="controls"></span>\n                </div>\n            </div>\n        ').trim(),s=document.createElement("div");s.innerHTML=o,e.replaceWith(s.children[0])}},s={};function a(){var e;return e=t().mark((function e(n){var i,r,a,c,d,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.textContent="Loading...",n.parentElement,i=n.getAttribute("data-embed-type"),r=n.getAttribute("data-"+i+"-id"),a=window.urls.embed[i],!n.getAttribute("data-stop")){e.next=7;break}return e.abrupt("return");case 7:if(n.setAttribute("data-stop","true"),l.unobserve(n),d="".concat(i,":").concat(r),!s[d]){e.next=14;break}c=s[d],e.next=27;break;case 14:return e.next=16,fetch(a,{method:"post",body:JSON.stringify({id:r}),headers:{"Content-Type":"application/json"}});case 16:if(!(u=e.sent).ok){e.next=24;break}return e.next=20,u.json();case 20:c=e.sent,s[d]=c,e.next=27;break;case 24:c={resp:u,type:i},s[d]=c,i="error";case 27:o[i].call(window,n,c),init_all_image_cyclers(document);case 29:case"end":return e.stop()}}),e)})),a=function(){var t=this,i=arguments;return new Promise((function(r,o){var s=e.apply(t,i);function a(e){n(s,r,o,a,l,"next",e)}function l(e){n(s,r,o,a,l,"throw",e)}a(void 0)}))},a.apply(this,arguments)}var l=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&function(e){a.apply(this,arguments)}(e.target)}))}),{threshold:.1});function c(e){e.querySelectorAll(".embed-content .uninitialised").forEach((function(e){l.observe(e)}))}document.querySelectorAll(".bbcode-input textarea").forEach((function(e){e.addEventListener("bbcode-preview-updated",(function(e){c(e.detail.element)}))})),c(document)},7707:()=>{document.addEventListener("DOMContentLoaded",(function(){init_all_image_cyclers(document)})),window.init_all_image_cyclers=function(e){e.querySelectorAll(".image-cycler").forEach((function(e){!function(e){if(e.getAttribute("data-stop"))return;e.setAttribute("data-stop","true");var t=Array.from(e.querySelectorAll("img")),n=e.querySelector(".controls");if(t.length<=1||!n)return;var i=t.length,r=0,o=document.createElement("a");o.href="#",o.innerHTML='<span class="fas fa-chevron-left"></span>';var s=document.createElement("a");s.href="#",s.innerHTML='<span class="fas fa-chevron-right"></span>';var a=document.createElement("span");a.textContent="".concat(r+1," / ").concat(i);var l=function(e){for(t[r].classList.add("d-none"),r+=e;r<0;)r+=i;r%=i,a.textContent="".concat(r+1," / ").concat(i),t[r].classList.remove("d-none")};if(o.addEventListener("click",(function(e){e.preventDefault(),l(-1)})),s.addEventListener("click",(function(e){e.preventDefault(),l(1)})),n.append(o,a,s),e.classList.contains("image-cycler-clickable")){var c=Array.from(e.parentElement.children);e.addEventListener("click",(function(e){e.target&&"IMG"==(""+e.target.tagName).toUpperCase()&&c.forEach((function(e){e.classList.toggle("col-md-12"),e.classList.toggle("enlarged")}))}))}}(e)}))}},3913:()=>{document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".images-form-container").forEach((function(e){var t=e.querySelector("button");if(t){var n=parseInt(e.getAttribute("data-max-images"),10)||9,i=t.closest(".text-center");e.querySelectorAll("a").forEach((function(e){var t=e.parentElement;e.addEventListener("click",(function(e){e.preventDefault(),t.remove(),r()}))}));var r=function(){var t=e.querySelectorAll("input").length;i.classList.toggle("d-none",t>=n)};r(),t.addEventListener("click",(function(t){if(t.preventDefault(),!(e.querySelectorAll("input").length>=n)){var o=document.createElement("div"),s=document.createElement("input"),a=document.createElement("a");o.classList.add("d-flex","flex-row"),s.classList.add("flex-fill","my-1"),s.type="file",s.name="images[]",s.accept=".jpg,.jpeg",a.classList.add("align-self-center","px-2"),a.href="#",a.innerHTML='<span class="fas fa-times"></span>',a.addEventListener("click",(function(e){e.preventDefault(),o.remove(),r()})),o.append(s,a),e.insertBefore(o,i),r()}}))}}))}))},3795:(e,t,n)=>{function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,s=void 0,s=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===i(s)?s:String(s)),r)}var o,s}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var u=n(8885),h=function(e){a(n,e);var t=c(n);function n(){return r(this,n),t.call(this,"athumb")}return s(n,[{key:"FormatResult",value:function(e,t,n,i,r,o){var s=parseInt(o,10);if(!s)return null;var a='<div class="embedded article"><div class="embed-container"><div class="embed-content"><div class="uninitialised" data-embed-type="article" data-article-id="'+s+'">Loading embedded content: Article #'+s+"</div></div></div></div>",l=u.Nodes.PlainTextNode.Empty(),c=new u.Nodes.HtmlNode(a,l,"\n");return c.plainAfter="Article: "+window.urls.view.article.replace("{slug}",s)+"\n",c.isBlockNode=!0,c}}]),n}(u.Tags.Tag),g=function(e){a(n,e);var t=c(n);function n(){return r(this,n),t.call(this,"dlthumb")}return s(n,[{key:"FormatResult",value:function(e,t,n,i,r,o){var s=parseInt(o,10);if(!s)return null;var a='<div class="embedded download"><div class="embed-container"><div class="embed-content"><div class="uninitialised" data-embed-type="download" data-download-id="'+s+'">Loading embedded content: Download #'+s+"</div></div></div></div>",l=u.Nodes.PlainTextNode.Empty(),c=new u.Nodes.HtmlNode(a,l,"\n");return c.plainAfter="Download: "+window.urls.view.download.replace("{id}",s)+"\n",c.isBlockNode=!0,c}}]),n}(u.Tags.Tag),p=function(e){a(n,e);var t=c(n);function n(){return r(this,n),t.call(this,"mthumb")}return s(n,[{key:"FormatResult",value:function(e,t,n,i,r,o){var s=parseInt(o,10);if(!s)return null;var a='<div class="embedded map"><div class="embed-container"><div class="embed-content"><div class="uninitialised" data-embed-type="map" data-map-id="'+s+'">Loading embedded content: Map #'+s+"</div></div></div></div>",l=u.Nodes.PlainTextNode.Empty(),c=new u.Nodes.HtmlNode(a,l,"\n");return c.plainAfter="Map: "+window.urls.view.map.replace("{id}",s)+"\n",c.isBlockNode=!0,c}}]),n}(u.Tags.Tag),m=u.ParserConfiguration.Snarkpit();m.Processors.forEach((function(e){"SmiliesProcessor"==e.constructor.name&&(e.UrlFormatString=window.urls.images.smiley_folder+"/{0}.gif")})),m.Tags.push(new h),m.Tags.push(new g),m.Tags.push(new p),window.parser=new u.Parser(m)},5695:function(e,t,n){e.exports=function(e,t,n,i){"use strict";const r=e=>e&&"object"==typeof e&&"default"in e?e:{default:e},o=r(e),s=r(n),a=r(i),l="5.2.3";class c extends a.default{constructor(e,n){super(),(e=t.getElement(e))&&(this._element=e,this._config=this._getConfig(n),o.default.set(this._element,this.constructor.DATA_KEY,this))}dispose(){o.default.remove(this._element,this.constructor.DATA_KEY),s.default.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,i=!0){t.executeAfterTransition(e,n,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return o.default.get(t.getElement(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return l}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}return c}(n(493),n(4072),n(9286),n(4705))},493:function(e){e.exports=function(){"use strict";const e=new Map;return{set(t,n,i){e.has(t)||e.set(t,new Map);const r=e.get(t);r.has(n)||0===r.size?r.set(n,i):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get:(t,n)=>e.has(t)&&e.get(t).get(n)||null,remove(t,n){if(!e.has(t))return;const i=e.get(t);i.delete(n),0===i.size&&e.delete(t)}}}()},9286:function(e,t,n){e.exports=function(e){"use strict";const t=/[^.]*(?=\..*)\.|.*/,n=/\..*/,i=/::\d+$/,r={};let o=1;const s={mouseenter:"mouseover",mouseleave:"mouseout"},a=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function l(e,t){return t&&`${t}::${o++}`||e.uidEvent||o++}function c(e){const t=l(e);return e.uidEvent=t,r[t]=r[t]||{},r[t]}function d(e,t){return function n(i){return y(i,{delegateTarget:e}),n.oneOff&&v.off(e,i.type,t),t.apply(e,[i])}}function u(e,t,n){return function i(r){const o=e.querySelectorAll(t);for(let{target:s}=r;s&&s!==this;s=s.parentNode)for(const a of o)if(a===s)return y(r,{delegateTarget:s}),i.oneOff&&v.off(e,r.type,t,n),n.apply(s,[r])}}function h(e,t,n=null){return Object.values(e).find((e=>e.callable===t&&e.delegationSelector===n))}function g(e,t,n){const i="string"==typeof t,r=i?n:t||n;let o=b(e);return a.has(o)||(o=e),[i,r,o]}function p(e,n,i,r,o){if("string"!=typeof n||!e)return;let[a,p,m]=g(n,i,r);if(n in s){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};p=e(p)}const f=c(e),b=f[m]||(f[m]={}),v=h(b,p,a?i:null);if(v)return void(v.oneOff=v.oneOff&&o);const y=l(p,n.replace(t,"")),w=a?u(e,i,p):d(e,p);w.delegationSelector=a?i:null,w.callable=p,w.oneOff=o,w.uidEvent=y,b[y]=w,e.addEventListener(m,w,a)}function m(e,t,n,i,r){const o=h(t[n],i,r);o&&(e.removeEventListener(n,o,Boolean(r)),delete t[n][o.uidEvent])}function f(e,t,n,i){const r=t[n]||{};for(const o of Object.keys(r))if(o.includes(i)){const i=r[o];m(e,t,n,i.callable,i.delegationSelector)}}function b(e){return e=e.replace(n,""),s[e]||e}const v={on(e,t,n,i){p(e,t,n,i,!1)},one(e,t,n,i){p(e,t,n,i,!0)},off(e,t,n,r){if("string"!=typeof t||!e)return;const[o,s,a]=g(t,n,r),l=a!==t,d=c(e),u=d[a]||{},h=t.startsWith(".");if(void 0===s){if(h)for(const n of Object.keys(d))f(e,d,n,t.slice(1));for(const n of Object.keys(u)){const r=n.replace(i,"");if(!l||t.includes(r)){const t=u[n];m(e,d,a,t.callable,t.delegationSelector)}}}else{if(!Object.keys(u).length)return;m(e,d,a,s,o?n:null)}},trigger(t,n,i){if("string"!=typeof n||!t)return null;const r=e.getjQuery();let o=null,s=!0,a=!0,l=!1;n!==b(n)&&r&&(o=r.Event(n,i),r(t).trigger(o),s=!o.isPropagationStopped(),a=!o.isImmediatePropagationStopped(),l=o.isDefaultPrevented());let c=new Event(n,{bubbles:s,cancelable:!0});return c=y(c,i),l&&c.preventDefault(),a&&t.dispatchEvent(c),c.defaultPrevented&&o&&o.preventDefault(),c}};function y(e,t){for(const[n,i]of Object.entries(t||{}))try{e[n]=i}catch(t){Object.defineProperty(e,n,{configurable:!0,get:()=>i})}return e}return v}(n(4072))},3175:function(e){e.exports=function(){"use strict";function e(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function t(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}return{setDataAttribute(e,n,i){e.setAttribute(`data-bs-${t(n)}`,i)},removeDataAttribute(e,n){e.removeAttribute(`data-bs-${t(n)}`)},getDataAttributes(t){if(!t)return{};const n={},i=Object.keys(t.dataset).filter((e=>e.startsWith("bs")&&!e.startsWith("bsConfig")));for(const r of i){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),n[i]=e(t.dataset[r])}return n},getDataAttribute:(n,i)=>e(n.getAttribute(`data-bs-${t(i)}`))}}()},8737:function(e,t,n){e.exports=function(e){"use strict";return{find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter((e=>e.matches(t))),parents(e,t){const n=[];let i=e.parentNode.closest(t);for(;i;)n.push(i),i=i.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const n=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((e=>`${e}:not([tabindex^="-"])`)).join(",");return this.find(n,t).filter((t=>!e.isDisabled(t)&&e.isVisible(t)))}}}(n(4072))},6169:function(e,t,n){e.exports=function(e,t,n,i,r,o,s,a){"use strict";const l=e=>e&&"object"==typeof e&&"default"in e?e:{default:e},c=l(t),d=l(n),u=l(i),h=l(r),g=l(o),p=l(s),m="offcanvas",f=".bs.offcanvas",b=".data-api",v=`load${f}${b}`,y="Escape",w="show",_="showing",k="hiding",E="offcanvas-backdrop",T=".offcanvas.show",x=`show${f}`,N=`shown${f}`,C=`hide${f}`,A=`hidePrevented${f}`,O=`hidden${f}`,S=`resize${f}`,P=`click${f}${b}`,M=`keydown.dismiss${f}`,I='[data-bs-toggle="offcanvas"]',L={backdrop:!0,keyboard:!0,scroll:!1},R={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class j extends u.default{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return L}static get DefaultType(){return R}static get NAME(){return m}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown)return;if(d.default.trigger(this._element,x,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||(new c.default).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(_);const t=()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(w),this._element.classList.remove(_),d.default.trigger(this._element,N,{relatedTarget:e})};this._queueCallback(t,this._element,!0)}hide(){if(!this._isShown)return;if(d.default.trigger(this._element,C).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(k),this._backdrop.hide();const e=()=>{this._element.classList.remove(w,k),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new c.default).reset(),d.default.trigger(this._element,O)};this._queueCallback(e,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{"static"!==this._config.backdrop?this.hide():d.default.trigger(this._element,A)},t=Boolean(this._config.backdrop);return new g.default({className:E,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new p.default({trapElement:this._element})}_addEventListeners(){d.default.on(this._element,M,(e=>{e.key===y&&(this._config.keyboard?this.hide():d.default.trigger(this._element,A))}))}static jQueryInterface(e){return this.each((function(){const t=j.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}return d.default.on(document,P,I,(function(t){const n=e.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),e.isDisabled(this))return;d.default.one(n,O,(()=>{e.isVisible(this)&&this.focus()}));const i=h.default.findOne(T);i&&i!==n&&j.getInstance(i).hide(),j.getOrCreateInstance(n).toggle(this)})),d.default.on(window,v,(()=>{for(const e of h.default.find(T))j.getOrCreateInstance(e).show()})),d.default.on(window,S,(()=>{for(const e of h.default.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&j.getOrCreateInstance(e).hide()})),a.enableDismissTrigger(j),e.defineJQueryPlugin(j),j}(n(4072),n(1810),n(9286),n(5695),n(8737),n(1358),n(744),n(1127))},1358:function(e,t,n){e.exports=function(e,t,n){"use strict";const i=e=>e&&"object"==typeof e&&"default"in e?e:{default:e},r=i(e),o=i(n),s="backdrop",a="fade",l="show",c=`mousedown.bs.${s}`,d={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},u={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class h extends o.default{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return d}static get DefaultType(){return u}static get NAME(){return s}show(e){if(!this._config.isVisible)return void t.execute(e);this._append();const n=this._getElement();this._config.isAnimated&&t.reflow(n),n.classList.add(l),this._emulateAnimation((()=>{t.execute(e)}))}hide(e){this._config.isVisible?(this._getElement().classList.remove(l),this._emulateAnimation((()=>{this.dispose(),t.execute(e)}))):t.execute(e)}dispose(){this._isAppended&&(r.default.off(this._element,c),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(a),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=t.getElement(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),r.default.on(e,c,(()=>{t.execute(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(e){t.executeAfterTransition(e,this._getElement(),this._config.isAnimated)}}return h}(n(9286),n(4072),n(4705))},1127:function(e,t,n){!function(e,t,n){"use strict";const i=(e=>e&&"object"==typeof e&&"default"in e?e:{default:e})(t),r=(e,t="hide")=>{const r=`click.dismiss${e.EVENT_KEY}`,o=e.NAME;i.default.on(document,r,`[data-bs-dismiss="${o}"]`,(function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),n.isDisabled(this))return;const r=n.getElementFromSelector(this)||this.closest(`.${o}`);e.getOrCreateInstance(r)[t]()}))};e.enableDismissTrigger=r,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}(t,n(9286),n(4072))},4705:function(e,t,n){e.exports=function(e,t){"use strict";const n=(e=>e&&"object"==typeof e&&"default"in e?e:{default:e})(t);class i{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(t,i){const r=e.isElement(i)?n.default.getDataAttribute(i,"config"):{};return{...this.constructor.Default,..."object"==typeof r?r:{},...e.isElement(i)?n.default.getDataAttributes(i):{},..."object"==typeof t?t:{}}}_typeCheckConfig(t,n=this.constructor.DefaultType){for(const i of Object.keys(n)){const r=n[i],o=t[i],s=e.isElement(o)?"element":e.toType(o);if(!new RegExp(r).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${s}" but expected type "${r}".`)}}}return i}(n(4072),n(3175))},744:function(e,t,n){e.exports=function(e,t,n){"use strict";const i=e=>e&&"object"==typeof e&&"default"in e?e:{default:e},r=i(e),o=i(t),s=i(n),a="focustrap",l=".bs.focustrap",c=`focusin${l}`,d=`keydown.tab${l}`,u="Tab",h="forward",g="backward",p={autofocus:!0,trapElement:null},m={autofocus:"boolean",trapElement:"element"};class f extends s.default{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return p}static get DefaultType(){return m}static get NAME(){return a}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),r.default.off(document,l),r.default.on(document,c,(e=>this._handleFocusin(e))),r.default.on(document,d,(e=>this._handleKeydown(e))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,r.default.off(document,l))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const n=o.default.focusableChildren(t);0===n.length?t.focus():this._lastTabNavDirection===g?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){e.key===u&&(this._lastTabNavDirection=e.shiftKey?g:h)}}return f}(n(9286),n(8737),n(4705))},4072:function(e,t){!function(e){"use strict";const t=1e6,n=1e3,i="transitionend",r=e=>null==e?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),o=e=>{do{e+=Math.floor(Math.random()*t)}while(document.getElementById(e));return e},s=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&"#"!==n?n.trim():null}return t},a=e=>{const t=s(e);return t&&document.querySelector(t)?t:null},l=e=>{const t=s(e);return t?document.querySelector(t):null},c=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:i}=window.getComputedStyle(e);const r=Number.parseFloat(t),o=Number.parseFloat(i);return r||o?(t=t.split(",")[0],i=i.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(i))*n):0},d=e=>{e.dispatchEvent(new Event(i))},u=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),h=e=>u(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(e):null,g=e=>{if(!u(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const t=e.closest("summary");if(t&&t.parentNode!==n)return!1;if(null===t)return!1}return t},p=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),m=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?m(e.parentNode):null},f=()=>{},b=e=>{e.offsetHeight},v=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,y=[],w=e=>{"loading"===document.readyState?(y.length||document.addEventListener("DOMContentLoaded",(()=>{for(const e of y)e()})),y.push(e)):e()},_=()=>"rtl"===document.documentElement.dir,k=e=>{w((()=>{const t=v();if(t){const n=e.NAME,i=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=i,e.jQueryInterface)}}))},E=e=>{"function"==typeof e&&e()},T=(e,t,n=!0)=>{if(!n)return void E(e);const r=5,o=c(t)+r;let s=!1;const a=({target:n})=>{n===t&&(s=!0,t.removeEventListener(i,a),E(e))};t.addEventListener(i,a),setTimeout((()=>{s||d(t)}),o)},x=(e,t,n,i)=>{const r=e.length;let o=e.indexOf(t);return-1===o?!n&&i?e[r-1]:e[0]:(o+=n?1:-1,i&&(o=(o+r)%r),e[Math.max(0,Math.min(o,r-1))])};e.defineJQueryPlugin=k,e.execute=E,e.executeAfterTransition=T,e.findShadowRoot=m,e.getElement=h,e.getElementFromSelector=l,e.getNextActiveElement=x,e.getSelectorFromElement=a,e.getTransitionDurationFromElement=c,e.getUID=o,e.getjQuery=v,e.isDisabled=p,e.isElement=u,e.isRTL=_,e.isVisible=g,e.noop=f,e.onDOMContentLoaded=w,e.reflow=b,e.toType=r,e.triggerTransitionEnd=d,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}(t)},1810:function(e,t,n){e.exports=function(e,t,n){"use strict";const i=e=>e&&"object"==typeof e&&"default"in e?e:{default:e},r=i(e),o=i(t),s=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",a=".sticky-top",l="padding-right",c="margin-right";class d{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,l,(t=>t+e)),this._setElementAttributes(s,l,(t=>t+e)),this._setElementAttributes(a,c,(t=>t-e))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,l),this._resetElementAttributes(s,l),this._resetElementAttributes(a,c)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const i=this.getWidth(),r=e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+i)return;this._saveInitialAttribute(e,t);const r=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${n(Number.parseFloat(r))}px`)};this._applyManipulationCallback(e,r)}_saveInitialAttribute(e,t){const n=e.style.getPropertyValue(t);n&&o.default.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){const n=e=>{const n=o.default.getDataAttribute(e,t);null!==n?(o.default.removeDataAttribute(e,t),e.style.setProperty(t,n)):e.style.removeProperty(t)};this._applyManipulationCallback(e,n)}_applyManipulationCallback(e,t){if(n.isElement(e))t(e);else for(const n of r.default.find(e,this._element))t(n)}}return d}(n(8737),n(3175),n(4072))},7792:()=>{},2242:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Colours=void 0;class n{static IsValidColor(e){return!!/^#(?:[0-9A-F]{3}){1,2}$/i.test(e)||n.ColorNames.includes(e.toLowerCase())}}t.Colours=n,n.ColorNames=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"]},6342:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Element=void 0;t.Element=class{constructor(){this.Priority=0}InScope(e){return null==e||""==e.trim()||this.Scopes.includes(e)}}},3875:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MdCodeElement=void 0;const i=n(9449),r=n(4845),o=n(6342),s=n(6590);class a extends o.Element{constructor(){super(),this.Priority=10}Matches(e){return e.Value().startsWith("```")}Consume(e,t,n,o){const a=n.Current();let l=n.Value().substring(3).trimEnd(),c=null;s.PreElement.AllowedLanguages.includes(l.toLowerCase())&&(c=l,l="");let d=[l],u=!1;for(;n.Next();){const e=n.Value().trimEnd();if(e.endsWith("```")){const t=e.substring(0,e.length-3);d.push(t),u=!0;break}d.push(e)}if(!u)return n.SetCurrent(a),null;for(let e=0;e<2;e++){for(;d.length>0&&""==d[0].trim();)d.splice(0,1);d.reverse()}d=d.map((e=>e.replace(/\t/g,"    ")));const h=d.reduce(((e,t)=>{if(0==t.trim().length)return e;const n=t.length-t.trimStart().length;return Math.min(n,e)}),9999);d=d.map((e=>e.substring(Math.min(h,e.length))));const g=new r.UnprocessablePlainTextNode(d.join("\n")),p=`<pre${c&&""!=c.trim()?` class="lang-${c}"`:""}><code>`;return new i.HtmlNode(p,g,"</code></pre>")}}t.MdCodeElement=a},2946:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MdColumnsElement=void 0;const i=n(9449),r=n(1699),o=n(6342);class s{constructor(e,t){this.Width=e,this.Content=t}ToHtml(){return`<div class="col-md-${this.Width}">\n${this.Content.ToHtml()}</div>\n`}ToPlainText(){return this.Content.ToPlainText()+"\n\n"}GetChildren(){return[this.Content]}ReplaceChild(e,t){if(0!=e)throw new Error("Argument out of range");this.Content=t}HasContent(){return!0}}class a extends o.Element{Matches(e){return e.Value().startsWith("%%columns=")}Consume(e,t,n,o){const a=n.Current(),l=n.Value().substring(10).split(":").map((e=>{var t;return null!==(t=parseInt(e,10))&&void 0!==t?t:0}));let c=0;for(const e of l){if(!(e>0))return n.SetCurrent(a),null;c+=e}if(12!=c)return n.SetCurrent(a),null;let d=0,u=[];const h=[];for(;n.Next()&&d<l.length;){const i=n.Value().trimEnd();if("%%"==i?(h.push(new s(l[d],e.ParseElements(t,u.join("\n"),o))),u=[],d++):u.push(i),d>=l.length)break}return d!=l.length||u.length>0?(n.SetCurrent(a),null):new i.HtmlNode('<div class="row">',new r.NodeCollection(...h),"</div>")}}t.MdColumnsElement=a},5521:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MdHeadingElement=void 0;const i=n(208),r=n(6342);class o{constructor(e,t,n){this.Level=e,this.ID=t,this.Text=n}ToHtml(){return`<h${this.Level} id="${this.ID}">${this.Text.ToHtml()}</h${this.Level}>`}ToPlainText(){const e=this.Text.ToPlainText().replace(/\n/g," ");return e+"\n"+"-".repeat(e.length)}GetChildren(){return[this.Text]}ReplaceChild(e,t){if(0!=e)throw new Error("Argument out of range");this.Text=t}HasContent(){return!0}}class s extends r.Element{Matches(e){const t=e.Value();return t.length>0&&t.startsWith("=")}Consume(e,t,n,r){const a=n.Value().trim(),l=/^(=+)(.*?)=*$/i.exec(a),c=Math.min(6,l[1].length),d=l[2].trim();let u=e.ParseTags(t,d,r,i.TagParseContext.Inline);u=e.RunProcessors(u,t,r);const h=s.GetUniqueAnchor(t,u.ToPlainText());return new o(c,h,u)}static GetUniqueAnchor(e,t){const n=s.name+".IdList",i=e.Get(n,(()=>new Set)),r=t.replace(/[^\da-z?/:@\-._~!$&'()*+,;=]/gi,"_");let o=r,a=1;for(;;){if(!i.has(o))break;a++,o=`${r}_${a}`}return i.add(o),o}}t.MdHeadingElement=s},801:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MdLineElement=void 0;const i=n(9449),r=n(753),o=n(6342);class s extends o.Element{Matches(e){const t=e.Value().trimEnd();return t.length>=3&&t=="-".repeat(t.length)}Consume(e,t,n,o){const s=new i.HtmlNode("<hr />",r.PlainTextNode.Empty(),"");return s.PlainBefore="---",s}}t.MdLineElement=s},6038:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MdListElement=void 0;const i=n(1699),r=n(753),o=n(208),s=n(6342);class a{constructor(e,...t){this.Tag=e,this.Items=t}ToHtml(){let e="";e+=`<${this.Tag}>\n`;for(const t of this.Items)e+=t.ToHtml();return e+=`</${this.Tag}>\n`,e}ToPlainText(){return this.ToPlainTextPrefixed("")}ToPlainTextPrefixed(e){const t=e+("ol"==this.Tag?"#":"-");let n="";for(const e of this.Items)n+=e.ToPlainTextPrefixed(t);return n}GetChildren(){return[...this.Items]}ReplaceChild(e,t){this.Items[e]=t}HasContent(){return!0}}class l{constructor(e){this.Content=e,this.Subtrees=[]}ToHtml(){let e="<li>";e+=this.Content.ToHtml();for(const t of this.Subtrees)e+=t.ToHtml();return e+="</li>\n",e}ToPlainText(){throw new Error("Invalid operation")}ToPlainTextPrefixed(e){let t=e+" ";t+=this.Content.ToPlainText()+"\n";for(const n of this.Subtrees)t+=n.ToPlainTextPrefixed(e);return t}GetChildren(){return[this.Content,...this.Subtrees]}ReplaceChild(e,t){0==e?this.Content=t:this.Subtrees[e-1]=t}HasContent(){return!0}}class c extends s.Element{static IsUnsortedToken(e){return c.UlTokens.has(e)}static IsSortedToken(e){return c.OlTokens.has(e)}static IsListToken(e){return c.IsUnsortedToken(e)||c.IsSortedToken(e)}static IsValidListItem(e,t){const n=e.length;if(0==n)return 0;let i=0,r=!1;for(let t=0;t<n;t++){const n=e[t];if(!c.IsListToken(n)){if(" "==n){r=!0;break}return 0}i++}return r&&i>0&&i<=t+1?i:0}Matches(e){const t=e.Value().trim();return c.IsValidListItem(t,0)>0}Consume(e,t,n,o){const s=n.Current(),a=new l(r.PlainTextNode.Empty());return this.CreateListItems(a,"",e,t,n,o),0==a.Subtrees.length?(n.SetCurrent(s),null):1==a.Subtrees.length?a.Subtrees[0]:new i.NodeCollection(...a.Subtrees)}CreateListItems(e,t,n,i,r,s){const d=[];do{let u=r.Value().trimEnd();if(!u.startsWith(t)){r.Back();break}if(u=u.substring(t.length),u.length>1&&" "==u[0]&&t.length>0){for(u=u.trimStart();u.endsWith("^");){if(u.endsWith("\\^")){u=u.substring(0,u.length-2)+"^";break}if(!r.Next())break;u=u.substring(0,u.length-1).trim()+"\n"+r.Value().trimStart()}const t=n.ParseTags(i,u.trim(),s,o.TagParseContext.Block);e=new l(t),d.push(e)}else{if(!(u.length>2&&c.IsListToken(u[0])&&" "==u[1]&&null!=e)){r.Back();break}{const o=c.IsSortedToken(u[0])?"ol":"ul",l=new a(o,...this.CreateListItems(e,t+u[0],n,i,r,s));e.Subtrees.push(l)}}}while(r.Next());return d}}t.MdListElement=c,c.UlTokens=new Set(["*","-"]),c.OlTokens=new Set(["#"])},826:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MdPanelElement=void 0;const i=n(7671),r=n(9449),o=n(6342);class s extends o.Element{Matches(e){return e.Value().startsWith("~~~")}Consume(e,t,n,o){const s=n.Current(),a=n.Value().substring(3).trim();let l="",c=!1;const d=[];for(;n.Next();){const e=n.Value().trimEnd();if("~~~"==e){c=!0;break}e.length>1&&":"==e[0]?l=e.substring(1).trim():d.push(e)}if(!c)return n.SetCurrent(s),null;let u;u="message"==a?"card-success":"info"==a?"card-info":"warning"==a?"card-warning":"error"==a?"card-danger":"card-default";const h=`<div class="embed-panel card ${u}">`+(""!=l?`<div class="card-header">${i.HtmlHelper.Encode(l)}</div>`:"")+'<div class="card-body">',g=e.ParseElements(t,d.join("\n"),o),p=new r.HtmlNode(h,g,"</div></div>");return p.PlainBefore=""==l?"":l+"\n"+"-".repeat(l.length)+"\n",p}}t.MdPanelElement=s},8668:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MdQuoteElement=void 0;const i=n(9449),r=n(6342);class o extends r.Element{Matches(e){const t=e.Value();return t.length>0&&t.startsWith(">")}Consume(e,t,n,r){let o=n.Value();const s=[o.substring(1).trim()];for(;n.Next();){if(o=n.Value().trim(),0==o.length||">"!=o[0]){n.Back();break}s.push(o.substring(1).trim())}const a=s.join("\n").trim(),l=new i.HtmlNode("<blockquote>",e.ParseElements(t,a,r),"</blockquote>");return l.PlainBefore="[quote]\n",l.PlainAfter="\n[/quote]",l}}t.MdQuoteElement=o},200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MdTableElement=void 0;const i=n(9449),r=n(1699),o=n(1366),s=n(208),a=n(6342);class l{constructor(e,...t){this.Type=e,this.Cells=t}ToHtml(){let e="<tr>\n";for(const t of this.Cells)e+=`<${this.Type}>${t.ToHtml()}</${this.Type}>\n`;return e+="</tr>\n",e}ToPlainText(){let e="",t=!0;for(const n of this.Cells)t||(e+=" | "),e+=n.ToPlainText(),t=!1;return e+="\n",e}GetChildren(){return[...this.Cells]}ReplaceChild(e,t){this.Cells[e]=t}HasContent(){return!0}}class c extends a.Element{Matches(e){const t=e.Value().trimEnd();return t.length>=2&&"|"==t[0]&&("="==t[1]||"-"==t[1])}Consume(e,t,n,o){const s=[];do{const i=n.Value().trimEnd();if(i.length<2||"|"!=i[0]||"="!=i[1]&&"-"!=i[1]){n.Back();break}const r=c.SplitTable(i.substring(2)).map((n=>c.ResolveCell(n,e,t,o)));s.push(new l("="==i[1]?"th":"td",...r))}while(n.Next());return new i.HtmlNode('<table class="table table-bordered">',new r.NodeCollection(...s),"</table>")}static SplitTable(e){const t=[];let n=0,i=0;const r=(e=e.trim()).length;let o;for(o=0;o<r;o++){const s=e[o];"["==s?n++:"]"==s?n--:("|"==s&&0==n||o==r-1)&&(t.push(e.substring(i,o+(o==r-1?1:0)).trim()),i=o+1)}return i<r&&t.push(e.substring(i,o+(o==r-1?1:0)).trim()),t}static ResolveCell(e,t,n,i){const r=/^:ref=([a-z0-9 ]+)$/i.exec(e.trim());if(r){const e=r[1];return new o.RefNode(n,e)}return t.ParseTags(n,e,i,s.TagParseContext.Block)}}t.MdTableElement=c},6590:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreElement=void 0;const i=n(2242),r=n(9449),o=n(4845),s=n(6342);class a extends s.Element{constructor(){super(...arguments),this.Token="pre"}Matches(e){const t=e.Value().trim();return t.length>this.Token.length+1&&t.startsWith("["+this.Token)&&null!=t.match(this.getTokenRegex())}getTokenRegex(){const e=this.Token.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp("\\["+e+"(?:=([a-z ]+))?\\]","i")}Consume(e,t,n,s){var l;const c=n.Current();let d=[],u=n.Value().trim();const h=u.match(this.getTokenRegex());if(!h)return n.SetCurrent(c),null;let g;u=u.substring(h[0].length);let p=!1;if(h[1]){const e=h[1].split(" ");p=e.includes("highlight"),g=null===(l=e.find((e=>"highlight"!=e)))||void 0===l?void 0:l.toLowerCase(),a.AllowedLanguages.includes(g)||(g=void 0)}if(u.endsWith("[/"+this.Token+"]"))d.push(u.substring(0,u.length-(this.Token.length+3)));else{u.length>0&&d.push(u);let e=!1;for(;n.Next();){const t=n.Value().trimEnd();if(t.endsWith("[/"+this.Token+"]")){const n=t.substring(0,t.length-(this.Token.length+3));d.push(n),e=!0;break}d.push(t)}if(!e||0==d.length)return n.SetCurrent(c),null}for(let e=0;e<2;e++){for(;d.length>0&&""==d[0].trim();)d.splice(0,1);d.reverse()}let m=[];if(p){const e=[];let t=0;for(const n of d){if(n.startsWith("@@")){const e=n.match(/^@@(?:(#[0-9a-f]{3}|#[0-9a-f]{6}|[a-z]+|\d+)(?::(\d+))?)?$/im);if(null!=e){let n=1,r="#FF8000";for(let t=1;t<e.length;t++){const o=e[t];i.Colours.IsValidColor(o)?r=o:parseInt(o,10)&&(n=parseInt(o,10))}m.push({firstLine:t,numLines:n,color:r});continue}}t++,e.push(n)}d=e,m.push({firstLine:d.length,numLines:0,color:""});for(let e=0;e<m.length-1;e++){const{firstLine:t,numLines:n,color:i}=m[e],{firstLine:r}=m[e+1];t+n-1>=r&&(m[e]={firstLine:t,numLines:r-t,color:i})}m=m.filter((e=>e.numLines>0))}d=a.FixCodeIndentation(d);const f=m.map((e=>`<div class="line-highlight" style="top: ${e.firstLine}em; height: ${e.numLines}em; background: ${e.color};"></div>`)).join(""),b=new o.UnprocessablePlainTextNode(d.join("\n")),v=`<pre${g&&""!=g.trim()?` class="lang-${g}"`:""}><code>${f}`;return new r.HtmlNode(v,b,"</code></pre>")}static FixCodeIndentation(e){const t=(e=e.map((e=>e.replace(/\t/g,"    ")))).reduce(((e,t)=>{if(0==t.trim().length)return e;const n=t.length-t.trimStart().length;return Math.min(n,e)}),9999);return e.map((e=>e.substring(Math.min(t,e.length))))}}t.PreElement=a,a.AllowedLanguages=["php","dos","bat","cmd","css","cpp","c","c++","cs","ini","json","xml","html","angelscript","javascript","js","plaintext"]},4010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RefElement=void 0;const i=n(753),r=n(6342);class o extends r.Element{Matches(e){const t=e.Value().trim();return t.length>4&&t.startsWith("[ref=")&&null!=t.match(/\[ref=[a-z0-9 ]+\]/i)}Consume(e,t,n,r){const o=n.Current(),s=[];let a=n.Value().trim();const l=a.match(/\[ref=([a-z0-9 ]+)\]/i);if(!l)return n.SetCurrent(o),null;a=a.substring(l[0].length);const c=l[1];if(a.endsWith("[/ref]"))s.push(a.substring(0,a.length-6));else{a.length>0&&s.push(a);let e=!1;for(;n.Next();){const t=n.Value().trimEnd();if(t.endsWith("[/ref]")){const n=t.substring(0,t.length-6);s.push(n),e=!0;break}s.push(t)}if(!e||0==s.length)return n.SetCurrent(o),null}const d=e.ParseElements(t,s.join("\n").trim(),r);return t.Set(`Ref::${c}`,d),i.PlainTextNode.Empty()}}t.RefElement=o},7671:(e,t)=>{"use strict";function n(e){return e.replace(/\p{Emoji_Presentation}/gmu,(e=>"&#"+e.codePointAt(0)+";"))}Object.defineProperty(t,"__esModule",{value:!0}),t.HtmlHelper=void 0;t.HtmlHelper=class{static Encode(e){return n(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"))}static UrlEncode(e){return encodeURI(e)}static AttributeEncode(e){return n(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"))}}},5267:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lines=void 0;t.Lines=class{constructor(e){this.Content=e.split("\n"),this.Index=-1}Back(){this.Index--}Next(){return++this.Index<this.Content.length}Value(){return this.Content[this.Index]}Current(){return this.Index}SetCurrent(e){this.Index=e}}},5167:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WikiRevision=void 0;t.WikiRevision=class{static CreateSlug(e){return e=(e=e.replace(" ","_")).replace(/[^-$_.+!*'"(),:;<>^{}|~0-9a-z[\]]/gi,"")}}},8175:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WikiRevisionBook=void 0;t.WikiRevisionBook=class{}},7034:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WikiRevisionCredit=void 0;class n{}t.WikiRevisionCredit=n,n.TypeCredit="c",n.TypeArchive="a",n.TypeFull="f"},9449:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HtmlNode=void 0;t.HtmlNode=class{constructor(e,t,n){this.HtmlBefore=e,this.Content=t,this.HtmlAfter=n,this.PlainBefore=this.PlainAfter="",this.IsBlockNode=!1}ToHtml(){return this.HtmlBefore+this.Content.ToHtml()+this.HtmlAfter}ToPlainText(){return this.PlainBefore+this.Content.ToPlainText()+this.PlainAfter}GetChildren(){return[this.Content]}ReplaceChild(e,t){if(0!==e)throw new Error("Index out of range");this.Content=t}HasContent(){return!0}}},7953:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataNode=void 0;t.MetadataNode=class{constructor(e,t){this.Key=e,this.Value=t}ToHtml(){return""}ToPlainText(){return""}GetChildren(){return[]}ReplaceChild(e,t){throw new Error("Invalid operation.")}HasContent(){return!1}}},1699:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeCollection=void 0;t.NodeCollection=class{constructor(...e){this.Nodes=Array.from(e)}ToHtml(){return this.Nodes.map((e=>e.ToHtml())).join("")}ToPlainText(){return this.Nodes.map((e=>e.ToPlainText())).join("")}GetChildren(){return this.Nodes}ReplaceChild(e,t){this.Nodes[e]=t}HasContent(){return this.Nodes.some((e=>e.HasContent()))}}},5205:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeExtensions=void 0;const i=n(542);class r{static Remove(e,t){const n=e.GetChildren(),o=n.indexOf(t);if(o>=0)return e.ReplaceChild(o,new i.RemovedNode(t)),!0;for(const e of n)if(r.Remove(e,t))return!0;return!1}static Walk(e,t){if(!1===t(e))return!1;for(const n of e.GetChildren())if(!1===r.Walk(n,t))return!1;return!0}static WalkBack(e,t){for(const n of Array.from(e.GetChildren()).reverse())if(!1===r.WalkBack(n,t))return!1;return!1!==t(e)}}t.NodeExtensions=r},753:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlainTextNode=void 0;const i=n(7671);class r{constructor(e){this.Text=e}static Empty(){return new r("")}ToHtml(){return i.HtmlHelper.Encode(this.Text)}ToPlainText(){return this.Text}GetChildren(){return[]}ReplaceChild(e,t){throw new Error("Invalid operation")}HasContent(){return this.Text&&""!=this.Text.trim()}}t.PlainTextNode=r},1366:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RefNode=void 0;const i=n(4845);t.RefNode=class{constructor(e,t){this.Data=e,this.Name=t}GetNode(){return this.Data.Get(`Ref::${this.Name}`,i.UnprocessablePlainTextNode.Empty)}ToHtml(){return this.GetNode().ToHtml()}ToPlainText(){return this.GetNode().ToPlainText()}GetChildren(){return[this.GetNode()]}ReplaceChild(e,t){if(0!=e)throw new Error("Index out of range");this.Data.Set(`Ref::${this.Name}`,t)}HasContent(){return this.GetNode().HasContent()}}},542:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemovedNode=void 0;t.RemovedNode=class{constructor(e){this.OriginalNode=e}ToHtml(){return""}ToPlainText(){return""}GetChildren(){return[]}ReplaceChild(e,t){throw new Error("Unsupported operation.")}HasContent(){return!1}}},4845:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnprocessablePlainTextNode=void 0;const i=n(7671);class r{constructor(e){this.Text=e}static Empty(){return new r("")}static NewLine(){return new r("\n")}ToHtml(){return i.HtmlHelper.Encode(this.Text)}ToPlainText(){return this.Text}GetChildren(){return[]}ReplaceChild(e,t){throw new Error("Invalid operation")}HasContent(){return this.Text&&""!=this.Text.trim()}}t.UnprocessablePlainTextNode=r},1655:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParseData=void 0;t.ParseData=class{constructor(){this._values={}}Get(e,t){if(this._values[e])return this._values[e];const n=t();return this._values[e]=n,n}Set(e,t){this._values[e]=t}}},9223:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParseResult=void 0;const i=n(7953),r=n(1699),o=n(5205);t.ParseResult=class{constructor(){this.Content=new r.NodeCollection}GetMetadata(){const e=[];return o.NodeExtensions.Walk(this.Content,(t=>(t instanceof i.MetadataNode&&e.push({Key:t.Key,Value:t.Value}),!0))),e}ToHtml(){return this.Content.ToHtml()}ToPlainText(){return this.Content.ToPlainText()}}},6754:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;const i=n(5267),r=n(1699),o=n(5205),s=n(753),a=n(4845),l=n(1655),c=n(9223),d=n(1956),u=n(208),h=n(8872);class g{constructor(e){this.Configuration=e}ParseResult(e,t=""){const n=new l.ParseData;e=e.trim();let i=this.ParseElements(n,e,t);i=this.RunProcessors(i,n,t);const r=new c.ParseResult;return r.Content=i,r}ParseElements(e,t,n){const o=new r.NodeCollection;t=t.replace("\r","");const s=new i.Lines(t),l=(0,h.OrderByDescending)(this.Configuration.Elements.filter((e=>e.InScope(n))),(e=>e.Priority)),c=[];for(;s.Next();){let t=!1;for(const i of l){if(!i.Matches(s))continue;const r=i.Consume(this,e,s,n);if(null!=r){c.length>0&&(o.Nodes.push(g.TrimWhitespace(this.ParseTags(e,c.join("\n").trim(),n,u.TagParseContext.Block))),o.Nodes.push(a.UnprocessablePlainTextNode.NewLine())),c.splice(0,c.length),o.Nodes.push(r),o.Nodes.push(a.UnprocessablePlainTextNode.NewLine()),t=!0;break}}t||c.push(s.Value())}c.length>0&&o.Nodes.push(g.TrimWhitespace(this.ParseTags(e,c.join("\n").trim(),n,u.TagParseContext.Block)));const d=()=>{if(0===o.Nodes.length)return!1;const e=o.Nodes[o.Nodes.length-1];return e instanceof a.UnprocessablePlainTextNode&&(!e.Text||""==e.Text.trim())};for(;d();)o.Nodes.splice(o.Nodes.length-1,1);return g.FlattenNestedNodeCollections(o),g.TrimWhitespace(o)}static TrimWhitespace(e,t=!0,n=!0){const i=[];t&&o.NodeExtensions.Walk(e,(e=>e instanceof r.NodeCollection||!e.HasContent()&&((e instanceof a.UnprocessablePlainTextNode||e instanceof s.PlainTextNode)&&i.push(e),!0))),n&&o.NodeExtensions.WalkBack(e,(e=>e instanceof r.NodeCollection||!e.HasContent()&&((e instanceof a.UnprocessablePlainTextNode||e instanceof s.PlainTextNode)&&i.push(e),!0)));for(const t of i)o.NodeExtensions.Remove(e,t);return e}ParseTags(e,t,n,i){t=t.replace(/\n{3,}/g,"\n\n");const o=new d.State(t),a=new r.NodeCollection,l=(0,h.OrderByDescending)(this.Configuration.Tags.filter((e=>e.InScope(n))),(e=>e.Priority));for(;!o.Done;){let t=o.ScanTo("[");if(t&&""!=t&&a.Nodes.push(new s.PlainTextNode(t)),o.Done)break;const r=o.GetToken();let c=!1;for(const t of l)if(t.Matches(o,r,i)){const r=t.Parse(this,e,o,n,i);if(null!=r){a.Nodes.push(r),c=!0;break}}c||(t=o.Next(),t&&""!=t&&a.Nodes.push(new s.PlainTextNode(t)))}return a}static FlattenNestedNodeCollections(e){if(e instanceof r.NodeCollection){const t=e;for(;t.Nodes.some((e=>e instanceof r.NodeCollection));)t.Nodes=t.Nodes.flatMap((e=>e instanceof r.NodeCollection?e.Nodes:[e]))}else{const t=e.GetChildren();for(let n=0;n<t.length;n++)for(;t[n]instanceof r.NodeCollection&&1==t[n].Nodes.length;){const i=t[n];e.ReplaceChild(n,i.Nodes[0]),t[n]=i.Nodes[0]}}for(const t of e.GetChildren())g.FlattenNestedNodeCollections(t)}RunProcessors(e,t,n){for(const i of(0,h.OrderByDescending)(this.Configuration.Processors,(e=>e.Priority)))e=this.RunProcessor(e,i,t,n);return e}RunProcessor(e,t,n,i){if(t.ShouldProcess(e,i)){const o=t.Process(this,n,e,i);return 1==o.length?o[0]:new r.NodeCollection(...o)}const o=e.GetChildren();for(let r=0;r<o.length;r++){const s=o[r],a=this.RunProcessor(s,t,n,i);e.ReplaceChild(r,a)}return e}}t.Parser=g},4371:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParserConfiguration=void 0;const i=n(3875),r=n(2946),o=n(5521),s=n(801),a=n(6038),l=n(826),c=n(8668),d=n(200),u=n(6590),h=n(4010),g=n(9497),p=n(1657),m=n(8633),f=n(6953),b=n(9915),v=n(5512),y=n(9675),w=n(1994),_=n(8730),k=n(6926),E=n(1001),T=n(682),x=n(5143),N=n(9436),C=n(6802),A=n(9901),O=n(1563),S=n(1198),P=n(6494),M=n(2493),I=n(8074),L=n(502),R=n(773),j=n(678),D=n(2245),B=n(9932),$=n(7959),H=n(4493);class W{constructor(){this.Elements=[],this.Tags=[],this.Processors=[]}static Twhl(){const e=new W;e.Tags.push(new S.Tag("b","strong").WithScopes("inline","excerpt")),e.Tags.push(new S.Tag("i","em").WithScopes("inline","excerpt")),e.Tags.push(new S.Tag("u","span","underline").WithScopes("inline","excerpt")),e.Tags.push(new S.Tag("s","span","strikethrough").WithScopes("inline","excerpt")),e.Tags.push(new S.Tag("green","span","green").WithScopes("inline","excerpt")),e.Tags.push(new S.Tag("blue","span","blue").WithScopes("inline","excerpt")),e.Tags.push(new S.Tag("red","span","red").WithScopes("inline","excerpt")),e.Tags.push(new S.Tag("purple","span","purple").WithScopes("inline","excerpt")),e.Tags.push(new S.Tag("yellow","span","yellow").WithScopes("inline","excerpt")),e.Tags.push(new x.PreTag),e.Tags.push(new S.Tag("h","h3").WithBlock(!0)),e.Tags.push((new E.LinkTag).WithScopes("excerpt")),e.Tags.push((new E.LinkTag).WithScopes("excerpt").WithToken("email")),e.Tags.push(new N.QuickLinkTag),e.Tags.push(new B.WikiLinkTag),e.Tags.push(new j.WikiFileTag),e.Tags.push(new k.ImageTag),e.Tags.push((new k.ImageTag).WithToken("simg").WithBlock(!1));const t=new D.WikiImageTag;return t.TwhlBehaviour=!0,e.Tags.push(t),e.Tags.push(new H.YoutubeTag),e.Tags.push(new $.WikiYoutubeTag),e.Tags.push(new P.VaultEmbedTag),e.Tags.push(new C.QuoteTag),e.Tags.push((new _.FontTag).WithScopes("inline","excerpt")),e.Tags.push((new L.WikiCategoryTag).WithScopes("inline","excerpt")),e.Tags.push((new I.WikiBookTag).WithScopes("inline","excerpt")),e.Tags.push((new R.WikiCreditTag).WithScopes("inline","excerpt")),e.Tags.push((new M.WikiArchiveTag).WithScopes("inline","excerpt")),e.Tags.push((new O.SpoilerTag).WithScopes("inline","excerpt")),e.Tags.push((new y.CodeTag).WithScopes("excerpt")),e.Elements.push(new i.MdCodeElement),e.Elements.push(new u.PreElement),e.Elements.push(new o.MdHeadingElement),e.Elements.push(new s.MdLineElement),e.Elements.push(new c.MdQuoteElement),e.Elements.push(new a.MdListElement),e.Elements.push(new d.MdTableElement),e.Elements.push(new l.MdPanelElement),e.Elements.push(new r.MdColumnsElement),e.Elements.push(new h.RefElement),e.Processors.push(new p.MarkdownTextProcessor),e.Processors.push(new g.AutoLinkingProcessor),e.Processors.push(new f.SmiliesProcessor("https://twhl.info/images/smilies/{0}.png").AddTwhl()),e.Processors.push(new b.TrimWhitespaceAroundBlockNodesProcessor),e.Processors.push(new m.NewLineProcessor),e}static Snarkpit(){const e=new W;e.Tags.push(new S.Tag("b","strong").WithScopes("inline","excerpt")),e.Tags.push(new S.Tag("i","em").WithScopes("inline","excerpt")),e.Tags.push(new S.Tag("u","span","underline").WithScopes("inline","excerpt")),e.Tags.push(new S.Tag("s","span","strikethrough").WithScopes("inline","excerpt")),e.Tags.push(new x.PreTag),e.Tags.push(new S.Tag("center","div","text-center").WithBlock(!0)),e.Tags.push(new v.AlignTag),e.Tags.push(new T.ListTag),e.Tags.push((new E.LinkTag).WithScopes("excerpt")),e.Tags.push((new E.LinkTag).WithScopes("excerpt").WithToken("email")),e.Tags.push(new N.QuickLinkTag),e.Tags.push(new k.ImageTag),e.Tags.push((new k.ImageTag).WithToken("simg").WithBlock(!1)),e.Tags.push(new D.WikiImageTag),e.Tags.push(new H.YoutubeTag),e.Tags.push(new $.WikiYoutubeTag),e.Tags.push(new C.QuoteTag),e.Tags.push(new w.ColorTag),e.Tags.push(new A.SizeTag),e.Tags.push((new O.SpoilerTag).WithScopes("inline","excerpt")),e.Elements.push(new i.MdCodeElement);const t=new u.PreElement;return t.Token="code",e.Elements.push(t),e.Elements.push(new o.MdHeadingElement),e.Elements.push(new s.MdLineElement),e.Elements.push(new c.MdQuoteElement),e.Elements.push(new a.MdListElement),e.Elements.push(new d.MdTableElement),e.Elements.push(new l.MdPanelElement),e.Elements.push(new r.MdColumnsElement),e.Elements.push(new h.RefElement),e.Processors.push(new p.MarkdownTextProcessor),e.Processors.push(new g.AutoLinkingProcessor),e.Processors.push(new f.SmiliesProcessor("https://snarkpit.net/images/smilies/{0}.gif").AddSnarkpit()),e.Processors.push(new b.TrimWhitespaceAroundBlockNodesProcessor),e.Processors.push(new m.NewLineProcessor),e}}t.ParserConfiguration=W},9497:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoLinkingProcessor=void 0;const i=n(7671),r=n(9449),o=n(753);t.AutoLinkingProcessor=class{constructor(){this.Priority=9}ShouldProcess(e,t){return e instanceof o.PlainTextNode&&(e.Text.includes("http")||e.Text.includes("@"))}Process(e,t,n,s){const a=n.Text,l=[],c=[],d=/(?<=^|\s)(?<url>https?:\/\/[^\][""\s]+)(?=\s|$)/gi;let u=d.exec(a);for(;null!=u;)c.push(u),u=d.exec(a);const h=/(?<=^|\s)(?<email>[^\][""\s@]+@[^\][""\s@]+\.[^\][""\s@]+)(?=\s|$)/gi;let g=h.exec(a);for(;null!=g;)c.push(g),g=h.exec(a);c.sort(((e,t)=>e.index-t.index));let p=0;for(const e of c)if(!(e.index<p)){if(e.index>p&&l.push(new o.PlainTextNode(a.substring(p,e.index))),e.groups.url){const t=e.groups.url;l.push(new r.HtmlNode(`<a href="${i.HtmlHelper.AttributeEncode(t)}">`,new o.PlainTextNode(t),"</a>"))}else if(e.groups.email){const t=e.groups.email;l.push(new r.HtmlNode(`<a href="mailto:${i.HtmlHelper.AttributeEncode(t)}">`,new o.PlainTextNode(t),"</a>"))}p=e.index+e[0].length}return p<a.length&&l.push(new o.PlainTextNode(a.substring(p))),l}}},1657:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownTextProcessor=void 0;const i=n(9449),r=n(1699),o=n(753),s=n(4845),a=n(8872);class l{constructor(){this.Priority=10}ShouldProcess(e,t){return e instanceof o.PlainTextNode&&(0,a.IndexOfAny)(e.Text,l.Tokens)>=0}static GetTokenIndex(e){return l.Tokens.indexOf(e)}static IsStartBreakChar(e){return l.StartBreakChars.includes(e)}static IsEndBreakChar(e){return l.StartBreakChars.includes(e)||l.ExtraEndBreakChars.includes(e)||l.Tokens.includes(e)}static ParseToken(e,t,n,o){o.endPosition=-1;const a=t[n],c=l.GetTokenIndex(a);if(0!=e[c])return null;const d=t.indexOf(a,n+1);if(d<=n+1)return null;if(t.substring(n,d).indexOf("\n")>=0)return null;if(!((d+1==t.length||l.IsEndBreakChar(t[d+1]))&&""!=t[d-1].trim()))return null;const u=t.substring(n+1,d);let h;if(e[c]=1,"`"==a)h=new s.UnprocessablePlainTextNode(u);else{const t=l.ParseTokens(e,u);h=1==t.length?t[0]:new r.NodeCollection(...t)}e[c]=0,o.endPosition=d;const g=new i.HtmlNode(l.OpenTags[c],h,l.CloseTags[c]);return g.PlainBefore=a,g.PlainAfter=a,g}static ParseTokens(e,t){const n=[];let i=0,r=0;for(;;){const s=(0,a.IndexOfAny)(t,l.Tokens,r);if(s<0)break;if(!((0==s||l.IsStartBreakChar(t[s-1]))&&s+1<t.length&&""!=t[s+1].trim())){r=s+1;continue}const c={endPosition:-1},d=l.ParseToken(e,t,s,c);null==d?r=s+1:(i<s&&n.push(new o.PlainTextNode(t.substring(i,s))),n.push(d),r=i=c.endPosition+1)}return i<t.length&&n.push(new o.PlainTextNode(t.substring(i))),n}Process(e,t,n,i){const r=n.Text,o=[];if((0,a.IndexOfAny)(r,l.Tokens,0)<0)return o.push(n),o;const s=l.Tokens.map((()=>0));for(const e of l.ParseTokens(s,r))o.push(e);return o}}t.MarkdownTextProcessor=l,l.Tokens=Array.from("`*/_~"),l.OpenTags=["<code>","<strong>","<em>",'<span class="underline">','<span class="strikethrough">'],l.CloseTags=["</code>","</strong>","</em>","</span>","</span>"],l.StartBreakChars=Array.from("!^()+=[]{}\"'<>?,. \t\r\n"),l.ExtraEndBreakChars=Array.from(":;")},8633:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NewLineProcessor=void 0;const i=n(9449),r=n(753),o=n(4845);t.NewLineProcessor=class{constructor(){this.Priority=1}ShouldProcess(e,t){return e instanceof r.PlainTextNode&&(e.Text.includes("\n")||e.Text.includes("<br>"))}Process(e,t,n,s){let a=n.Text;a=a.replace(/ *<br> */g,"\n");const l=[],c=a.split("\n");for(let e=0;e<c.length;e++){const t=c[e];l.push(new r.PlainTextNode(t)),e<c.length-1&&l.push(new i.HtmlNode("<br/>",o.UnprocessablePlainTextNode.NewLine(),""))}return l}}},6953:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SmiliesProcessor=void 0;const i=n(7671),r=n(9449),o=n(753),s=n(4845),a=n(8872);class l{constructor(e,t){this.Name=e,this.Tokens=t}GetMatchingToken(e,t){for(const n of this.Tokens)if(e.indexOf(n,t)==t){if(t+n.length<e.length-1&&""!=e[t+n.length].trim())continue;return n}return null}}class c{constructor(e){this.Priority=5,this.UrlFormatString=e,this._definitions=[],this._initialised=!1}ShouldProcess(e,t){return e instanceof o.PlainTextNode&&this._definitions.length>0}Process(e,t,n,l){this._initialised||(this._tokenStarts=new Set(this._definitions.flatMap((e=>e.Tokens)).map((e=>e[0]))),this._initialised=!0);const d=[],u=n.Text;let h=0,g=-1,p=0;for(;g+1<u.length&&(g=(0,a.IndexOfAny)(u,this._tokenStarts,g+1))>=0;){if(p>c.MaxSmilies){d.push(new r.HtmlNode('<em class="text-danger">',new s.UnprocessablePlainTextNode(" [warning: too many smilies in post] "),"</em>"));break}if(0!=g&&""!=u[g-1].trim())continue;let e=null,t=null;for(const n of this._definitions)if(t=n.GetMatchingToken(u,g),null!=t){e=n;break}if(null==e)continue;if(g+t.length<u.length-1&&""!=u[g+t.length].trim())continue;h<g&&d.push(new o.PlainTextNode(u.substring(h,g)));const n=i.HtmlHelper.AttributeEncode((0,a.Template)(this.UrlFormatString,{0:e.Name})),l=i.HtmlHelper.AttributeEncode(t),m=new r.HtmlNode(`<img class="smiley" src="${n}" alt="${l}" />`,o.PlainTextNode.Empty(),"");m.PlainBefore=t,d.push(m),h=g+t.length,g+=t.length,p++}return h<u.length&&d.push(new o.PlainTextNode(u.substring(h))),d}Add(e,...t){return this._definitions.push(new l(e,t)),this._initialised=!1,this}AddTwhl(){return this.Add("aggrieved",":aggrieved:"),this.Add("aghast",":aghast:"),this.Add("angry",":x",":-x",":angry:"),this.Add("badass",":badass:"),this.Add("confused",":confused:"),this.Add("cry",":cry:"),this.Add("cyclops",":cyclops:"),this.Add("lol",":lol:"),this.Add("frown",":|",":-|",":frown:"),this.Add("furious",":furious:"),this.Add("glad",":glad:"),this.Add("heart",":heart:"),this.Add("grin",":D",":-D",":grin:"),this.Add("nervous",":nervous:"),this.Add("nuke",":nuke:"),this.Add("nuts",":nuts:"),this.Add("quizzical",":quizzical:"),this.Add("rollseyes",":roll:",":rollseyes:"),this.Add("sad",":(",":-(",":sad:"),this.Add("smile",":)",":-)",":smile:"),this.Add("surprised",":o",":-o",":surprised:"),this.Add("thebox",":thebox:"),this.Add("thefinger",":thefinger:"),this.Add("tired",":tired:"),this.Add("tongue",":P",":-P",":tongue:"),this.Add("toocool",":cool:"),this.Add("unsure",":\\",":-\\",":unsure:"),this.Add("biggrin",":biggrin:"),this.Add("wink",";)",";-)",":wink:"),this.Add("zonked",":zonked:"),this.Add("sarcastic",":sarcastic:"),this.Add("combine",":combine:",":elite:"),this.Add("gak",":gak:"),this.Add("animehappy",":^_^:"),this.Add("pwnt",":pwned:"),this.Add("target",":target:"),this.Add("ninja",":ninja:"),this.Add("hammer",":hammer:"),this.Add("pirate",":pirate:",":yar:"),this.Add("walter",":walter:"),this.Add("plastered",":plastered:"),this.Add("bigmouth",":zomg:"),this.Add("brokenheart",":heartbreak:"),this.Add("ciggiesmilie",":ciggie:"),this.Add("combines",":combines:"),this.Add("crowbar",":crowbar:"),this.Add("death",":death:"),this.Add("freeman",":freeman:"),this.Add("hecu",":hecu:"),this.Add("nya",":nya:"),this}AddSnarkpit(){return this.Add("icon_biggrin",":D"),this.Add("sailor",":sailor:"),this.Add("icon_smile",":)",":-)"),this.Add("dorky",":geek:"),this.Add("sad0019",":("),this.Add("icon_eek",":-o"),this.Add("grenade",":grenade:"),this.Add("confused",":confused:"),this.Add("icon_cool","8-)"),this.Add("kitty",":k1tt3h:"),this.Add("laughing",":lol:"),this.Add("leper",":leper:"),this.Add("mad",":mad:"),this.Add("tongue0010",":p"),this.Add("popcorn",":popcorn:"),this.Add("icon_redface",":oops:"),this.Add("icon_cry",":cry:"),this.Add("icon_twisted",":evil:"),this.Add("rolleye0011",":roll:"),this.Add("shocked",":scream:"),this.Add("icon_wink",";)"),this.Add("dead",":dead:"),this.Add("pimp",":pimp:"),this.Add("beerchug",":beer:"),this.Add("chainsaw",":chainsaw:"),this.Add("arse",":moonie:"),this.Add("angel",":angel:"),this.Add("bday",":bday:"),this.Add("clap",":clap:"),this.Add("computer",":computer:"),this.Add("crash",":pccrash:"),this.Add("dizzy",":dizzy:"),this.Add("dodgy",":naughty:"),this.Add("drink",":drink:"),this.Add("facelick",":lick:"),this.Add("frown",">:("),this.Add("heee",":hee:"),this.Add("imwithstupid",":imwithstupid:"),this.Add("jawdrop",":jawdrop:"),this.Add("king",":king:"),this.Add("ladysman",":ladysman:"),this.Add("mrT",":mrt:"),this.Add("nurse",":nurse:"),this.Add("outtahere",":outtahere:"),this.Add("aaatrigger",":aaatrigger:"),this.Add("repuke",":repuke:"),this.Add("rofl",":rofl:"),this.Add("rolling",":rolling2:"),this.Add("santa",":santa:"),this.Add("smash",":smash:"),this.Add("toilet",":toilet:"),this.Add("44","~o)"),this.Add("wavey",":wavey:"),this.Add("upyours",":stfu:"),this.Add("fart",":fart:"),this.Add("trout",":trout:"),this.Add("ar15firing",":machinegun:"),this.Add("microwave",":microwave:"),this.Add("guillotine",":guillotine:"),this.Add("poke",":poke:"),this.Add("sniper",":sniper:"),this.Add("monkee",":monkee:"),this.Add("bandit",":gringo:"),this.Add("wtf",":wtf:"),this.Add("azelito",":azelito:"),this.Add("crate",":crate:"),this.Add("argh",":-&"),this.Add("swear",":swear:"),this.Add("rocketwhore",":launcher:"),this.Add("skull",":skull:"),this.Add("munky",":munky:"),this.Add("evilgrin",":E"),this.Add("banghead",":brickwall:"),this.Add("wcc",":wcc:"),this.Add("smiley_sherlock",":sherlock:"),this.Add("nag",":nag:"),this.Add("rolling_eyes",":rolling:"),this.Add("angryfire",":flame:"),this.Add("character",":ghost:"),this.Add("character0007",":pirate:"),this.Add("indifferent0016",":zzz:"),this.Add("indifferent0002",":|"),this.Add("love0012",":love:"),this.Add("rolleye0006",":lookup:"),this.Add("sad0006",";("),this.Add("scared0005",":scared:"),this.Add("flail",":flail:"),this.Add("emot-cowjump",":cowjump:"),this.Add("emot-eng101",":teach:"),this.Add("uncertain",":uncertain:"),this.Add("1sm071potstir",":stirring:"),this.Add("thumbs_up",":thumbsup:"),this.Add("happy_open",":happy:"),this.Add("snark_topic_icon",":snark:"),this}}t.SmiliesProcessor=c,c.MaxSmilies=100},9915:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TrimWhitespaceAroundBlockNodesProcessor=void 0;const i=n(9449),r=n(1699),o=n(753),s=n(4845);t.TrimWhitespaceAroundBlockNodesProcessor=class{constructor(){this.Priority=20}ShouldProcess(e,t){return e instanceof r.NodeCollection}Process(e,t,n,r){const a=n,l=[];let c=!1;for(let n=0;n<a.Nodes.length;n++){let d=a.Nodes[n];const u=n<a.Nodes.length-1?a.Nodes[n+1]:null;if(d instanceof o.PlainTextNode){let e=d.Text;c&&(e=e.trimStart()),u instanceof i.HtmlNode&&u.IsBlockNode&&(e=e.trimEnd()),d.Text=e}d=e.RunProcessor(d,this,t,r),d instanceof i.HtmlNode&&d.IsBlockNode?(c=!0,l.push(s.UnprocessablePlainTextNode.NewLine()),l.push(d),l.push(s.UnprocessablePlainTextNode.NewLine())):(c=!1,l.push(d))}return l}}},1956:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.State=void 0;t.State=class{constructor(e){this.Text=e,this.Index=0}get Length(){return this.Text.length}get Done(){return this.Index>=this.Length}ScanTo(e,t=!1){let n=t?this.Text.toLowerCase().indexOf(e.toLowerCase(),this.Index):this.Text.indexOf(e,this.Index);n<0&&(n=this.Length);const i=this.Text.substring(this.Index,n);return this.Index=n,i}SkipWhitespace(){for(;this.Index<this.Length&&""==this.Text[this.Index].trim();)this.Index++}PeekTo(e){const t=this.Text.indexOf(e,this.Index);return t<0?null:this.Text.substring(this.Index,t)}Seek(e,t){this.Index=t?e:this.Index+e}Peek(e){return this.Index+e>this.Length&&(e=this.Length-this.Index),this.Text.substring(this.Index,this.Index+e)}Next(){return this.Index>=this.Length?"\0":this.Text[this.Index++]}GetToken(){if(this.Done||"["!=this.Text[this.Index])return null;let e=!1,t="";for(let n=this.Index+1;n<Math.min(this.Index+10,this.Length);n++){const i=this.Text[n];if(" "==i||"="==i||"]"==i){e=t.length>0;break}t+=i}return e?t.toLowerCase():null}}},208:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TagParseContext=void 0,function(e){e[e.Block=0]="Block",e[e.Inline=1]="Inline"}(t.TagParseContext||(t.TagParseContext={}))},5512:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignTag=void 0;const i=n(9449),r=n(1198);class o extends r.Tag{constructor(){super(),this.Token="align",this.Element="div",this.MainOption="align",this.Options=["align"],this.AllOptionsInMain=!0,this.IsBlock=!0}FormatResult(e,t,n,r,s,a){let l="<"+this.Element,c=(this.ElementClass||"")+" ";s.align&&o.IsValidAlign(s.align)&&(c+="text-"+o.ConvertAlign(s.align)),l+=' class="'+c.trim()+'">';const d=e.ParseTags(t,a,r,this.TagContext()),u="</"+this.Element+">",h=new i.HtmlNode(l,d,u);return h.IsBlockNode=!0,h}static IsValidAlign(e){return"left"==e||"right"==e||"center"==e}static ConvertAlign(e){return"left"==e?"start":"right"==e?"end":"center"}}t.AlignTag=o},9675:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeTag=void 0;const i=n(9449),r=n(4845),o=n(1198);class s extends o.Tag{constructor(){super(),this.Token="code",this.Element="code"}FormatResult(e,t,n,o,s,a){return new i.HtmlNode("<code>",new r.UnprocessablePlainTextNode(a),"</code>")}}t.CodeTag=s},1994:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorTag=void 0;const i=n(2242),r=n(9449),o=n(1198);class s extends o.Tag{constructor(){super(),this.Token="color",this.Element="span",this.MainOption="color",this.Options=["color"],this.AllOptionsInMain=!0}FormatResult(e,t,n,o,s,a){let l="<"+this.Element;null!=this.ElementClass&&(l+=' class="'+this.ElementClass+'"'),(s.color||s.colour)&&(l+=' style="',s.color&&i.Colours.IsValidColor(s.color)?l+="color: "+s.color+"; ":s.colour&&i.Colours.IsValidColor(s.colour)&&(l+="color: "+s.colour+"; "),l=l.trimEnd()+'"'),l+=">";const c=e.ParseTags(t,a,o,this.TagContext()),d="</"+this.Element+">";return new r.HtmlNode(l,c,d)}}t.ColorTag=s},8730:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontTag=void 0;const i=n(2242),r=n(9449),o=n(1198);class s extends o.Tag{constructor(){super(),this.Token="font",this.Element="span",this.MainOption="color",this.Options=["color","colour","size"]}FormatResult(e,t,n,o,a,l){let c="<"+this.Element;null!=this.ElementClass&&(c+=' class="'+this.ElementClass+'"'),(a.color||a.colour||a.size)&&(c+=' style="',a.color&&i.Colours.IsValidColor(a.color)?c+="color: "+a.color+"; ":a.colour&&i.Colours.IsValidColor(a.colour)&&(c+="color: "+a.colour+"; "),a.size&&s.IsValidSize(a.size)&&(c+="font-size: "+a.size+"px; "),c=c.trimEnd()+'"'),c+=">";const d=e.ParseTags(t,l,o,this.TagContext()),u="</"+this.Element+">";return new r.HtmlNode(c,d,u)}static IsValidSize(e){var t;const n=null!==(t=parseInt(e,10))&&void 0!==t?t:0;return n>=6&&n<=40}}t.FontTag=s},6926:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageTag=void 0;const i=n(7671),r=n(9449),o=n(753),s=n(1198);class a extends s.Tag{constructor(){super(),this.Token="img",this.Element="div",this.MainOption="url",this.Options=["url"],this.IsBlock=!0}FormatResult(e,t,n,s,a,l){let c=l;a.url&&(c=a.url),c.match(/^([a-z]{2,10}:\/\/)/i)||(c="http://"+c),c=i.HtmlHelper.AttributeEncode(c);const d=["embedded","image"];null!=this.ElementClass&&d.push(this.ElementClass);let u=this.Element;this.IsBlock?n.SkipWhitespace():(u="span",d.push("inline"));const h=`<${u} class="${d.join(" ")}"><span class="caption-panel"><img class="caption-body" src="${c}" alt="User posted image" />`,g=`</span></${u}>`,p="div"==u?"\n":"",m=new r.HtmlNode(h,o.PlainTextNode.Empty(),g);return m.PlainBefore=`${p}[User posted image]${p}`,m.IsBlockNode="div"==u,m}Validate(e,t){let n=t;return e.url&&(n=e.url),!n.includes("<script")&&null!=n.match(/^([a-z]{2,10}:\/\/)?([^\]"\n ]+?)$/i)}}t.ImageTag=a},1001:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkTag=void 0;const i=n(7671),r=n(9449),o=n(4845),s=n(1198);class a extends s.Tag{constructor(){super(),this.Token="url",this.Element="a",this.MainOption="url",this.Options=["url"]}FormatResult(e,t,n,s,a,l){let c=l;a.url&&(c=a.url),"email"==this.Token?c="mailto:"+c:c.match(/^([a-z]{2,10}:\/\/)/i)||(c="http://"+c),c=i.HtmlHelper.AttributeEncode(c);const d=[];null!=this.ElementClass&&d.push(this.ElementClass);const u=`<${this.Element} `+(d.length>0?`class="${d.join(" ")}" `:"")+`href="${c}">`,h=`</${this.Element}>`,g=a.url?e.ParseTags(t,l,s,this.TagContext()):new o.UnprocessablePlainTextNode(l);return new r.HtmlNode(u,g,h)}Validate(e,t){let n=t;return e.url&&(n=e.url),!n.includes("<script")&&null!=n.match(/^([a-z]{2,10}:\/\/)?([^\]"\n ]+?)$/i)}}t.LinkTag=a},682:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListTag=void 0;const i=n(9449),r=n(1699),o=n(1198);class s extends o.Tag{constructor(){super(),this.Token="list",this.Element="ul",this.IsBlock=!0}Validate(e,t){const n=t.split("[*]").map((e=>e.trim())).filter((e=>(null==e?void 0:e.length)>0));return super.Validate(e,t)&&n.length>0}FormatResult(e,t,n,o,s,a){let l="<"+this.Element;null!=this.ElementClass&&(l+=' class="'+this.ElementClass+'"'),l+=">\n";const c=new r.NodeCollection,d=a.split("[*]").map((e=>e.trim())).filter((e=>(null==e?void 0:e.length)>0));for(const n of d){const r=new i.HtmlNode("<li>",e.ParseTags(t,n,o,this.TagContext()),"</li>\n");r.PlainBefore="* ",r.PlainAfter="\n",c.Nodes.push(r)}const u="</"+this.Element+">",h=new i.HtmlNode(l,c,u);return h.IsBlockNode=!0,h}}t.ListTag=s},5143:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreTag=void 0;const i=n(6590),r=n(9449),o=n(4845),s=n(1198);class a extends s.Tag{constructor(){super(),this.Token="pre",this.Element="pre",this.IsBlock=!0}FormatResult(e,t,n,s,a,l){let c="<"+this.Element;null!=this.ElementClass&&(c+=' class="'+this.ElementClass+'"'),c+="><code>";const d="</code></"+this.Element+">";let u=l.split("\n");for(let e=0;e<2;e++){for(;u.length>0&&""==u[0].trim();)u.splice(0,1);u.reverse()}u=i.PreElement.FixCodeIndentation(u),l=u.join("\n");const h=new r.HtmlNode(c,new o.UnprocessablePlainTextNode(l),d);return h.IsBlockNode=!0,h}}t.PreTag=a},9436:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuickLinkTag=void 0;const i=n(7671),r=n(9449),o=n(4845),s=n(1198);class a extends s.Tag{constructor(){super(),this.Token=null,this.Element="a",this.MainOption="url",this.Options=["url"]}Matches(e,t,n){let i=e.PeekTo("]");return!(!i||""==i)&&(i=i.substring(1),i.length>0&&!i.includes("\n")&&null!=i.match(/^([a-z]{2,10}:\/\/[^\]]*?)(?:\|([^\]]*?))?/i))}Parse(e,t,n,s,a){var l,c;const d=n.Index;if("["!=n.Next())return n.Seek(d,!0),null;const u=n.ScanTo("]");if("]"!=n.Next())return n.Seek(d,!0),null;const h=u.match(/^([a-z]{2,10}:\/\/[^\]]*?)(?:\|([^\]]*?))?$/i);if(!h)return n.Seek(d,!0),null;let g=h[1];const p=(null===(l=h[2])||void 0===l?void 0:l.length)>0?h[2]:g,m={url:g};if(!this.Validate(m,p))return n.Seek(d,!0),null;g=i.HtmlHelper.AttributeEncode(g);const f=`<${this.Element} href="${g}">`,b=`</${this.Element}>`,v=new o.UnprocessablePlainTextNode(p),y=new r.HtmlNode(f,v,b);return y.PlainAfter=(null===(c=h[2])||void 0===c?void 0:c.length)>0?` (${g})`:"",y}Validate(e,t){let n=t;return e.url&&(n=e.url),!n.includes("<script")&&null!=n.match(/^([a-z]{2,10}:\/\/)?([^\]""\n ]+?)/i)}}t.QuickLinkTag=a},6802:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuoteTag=void 0;const i=n(9449),r=n(1198);class o extends r.Tag{constructor(){super(),this.Token="quote",this.Element="blockquote",this.MainOption="name",this.Options=["name"],this.AllOptionsInMain=!0,this.IsBlock=!0,this.IsNested=!0}FormatResult(e,t,n,r,o,s){let a="<"+this.Element;null!=this.ElementClass&&(a+=' class="'+this.ElementClass+'"'),a+=">",o.name&&(a+='<strong class="quote-name">'+o.name+" said:</strong><br/>");const l="</"+this.Element+">",c=e.ParseTags(t,null==s?void 0:s.trim(),r,this.TagContext()),d=new i.HtmlNode(a,c,l);return d.PlainBefore=(o.name?o.name+" said: ":"")+"[quote]\n",d.PlainAfter="\n[/quote]",d.IsBlockNode=this.IsBlock,d}}t.QuoteTag=o},9901:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeTag=void 0;const i=n(9449),r=n(8730),o=n(1198);class s extends o.Tag{constructor(){super(),this.Token="size",this.Element="span",this.MainOption="size",this.Options=["size"],this.AllOptionsInMain=!0}FormatResult(e,t,n,o,s,a){let l="<"+this.Element;null!=this.ElementClass&&(l+=' class="'+this.ElementClass+'"'),s.size&&(l+=' style="',s.size&&r.FontTag.IsValidSize(s.size)&&(l+="font-size: "+s.size+"px; "),l=l.trimEnd()+'"'),l+=">";const c=e.ParseTags(t,a,o,this.TagContext()),d="</"+this.Element+">";return new i.HtmlNode(l,c,d)}}t.SizeTag=s},1563:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpoilerTag=void 0;const i=n(9449),r=n(1198);class o{constructor(e,t){this.VisibleText=e,this.SpoilerContent=t}ToHtml(){return this.SpoilerContent.ToHtml()}ToPlainText(){return`[${this.VisibleText}](spoiler text)`}GetChildren(){return[this.SpoilerContent]}ReplaceChild(e,t){if(0!=e)throw new Error("Argument out of range");this.SpoilerContent=t}HasContent(){return!0}}class s extends r.Tag{constructor(){super(),this.Token="spoiler",this.Element="span",this.ElementClass="spoiler",this.MainOption="text",this.Options=["text"],this.AllOptionsInMain=!0}FormatResult(e,t,n,r,s,a){let l="Spoiler";s.text&&s.text.length>0&&(l=s.text);let c=`<${this.Element}`;null!=this.ElementClass&&(c+=' class="'+this.ElementClass+'"'),c+=` title="${l}">`;const d=`</${this.Element}>`;return new i.HtmlNode(c,new o(l,e.ParseTags(t,a,r,this.TagContext())),d)}}t.SpoilerTag=s},1198:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tag=void 0;const i=n(9449),r=n(208);t.Tag=class{constructor(e="",t="",n=null){this.Priority=0,this.Token=e,this.Element=t,this.ElementClass=n,this.Options=[],this.Scopes=[]}TagContext(){return this.IsBlock?r.TagParseContext.Block:r.TagParseContext.Inline}InScope(e){return!e||""==e.trim()||this.Scopes.includes(e)}Matches(e,t,n){return(null==t?void 0:t.toLowerCase())==this.Token&&(n==r.TagParseContext.Block||!this.IsBlock)}Parse(e,t,n,i,r){const o=n.Index,s=this.Token.length;n.Seek(s+1,!1);let a=n.ScanTo("]").trim();if("]"!=n.Next())return n.Seek(o,!0),null;const l={};if(a.length>0)if("="==a[0]&&this.AllOptionsInMain&&null!=this.MainOption)l[this.MainOption]=a.substring(1);else{"="==a[0]&&(a=this.MainOption+a);const e=/(?=\s|^)\s*([^ ]+?)=([^\s]*)(?=\s|$)(?!=)/gim;let t=e.exec(a);for(;null!=t;){const n=t[1].trim(),i=t[2].trim();l[n]=i,t=e.exec(a)}}if(this.IsNested){let r=1,a="";for(;!n.Done;){a+=n.ScanTo("[");const o=n.GetToken();if(o.toLowerCase()==this.Token.toLowerCase()&&r++,o.toLowerCase()=="/"+this.Token.toLowerCase()&&n.Peek(s+3).trim()=="[/"+this.Token.toLowerCase()+"]"&&r--,0==r){if(n.Seek(this.Token.length+3,!1),!this.Validate(l,a))break;return this.FormatResult(e,t,n,i,l,a)}a+=n.Next()}return n.Seek(o,!0),console.log(2),null}{const r=n.ScanTo("[/"+this.Token+"]",!0);return n.Peek(s+3).trim()=="[/"+this.Token.toLowerCase()+"]"&&this.Validate(l,r)?(n.Seek(this.Token.length+3,!1),this.FormatResult(e,t,n,i,l,r)):(n.Seek(o,!0),console.log(3),null)}}Validate(e,t){return!0}FormatResult(e,t,n,r,o,s){let a="<"+this.Element;null!=this.ElementClass&&(a+=' class="'+this.ElementClass+'"'),a+=">";const l="</"+this.Element+">",c=e.ParseTags(t,s,r,this.TagContext()),d=new i.HtmlNode(a,c,l);return d.IsBlockNode=this.IsBlock,d}WithScopes(...e){return this.Scopes=e,this}WithToken(e){return this.Token=e,this}WithElement(e){return this.Element=e,this}WithElementClass(e){return this.ElementClass=e,this}WithBlock(e){return this.IsBlock=e,this}}},6494:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VaultEmbedTag=void 0;const i=n(9449),r=n(753),o=n(208),s=n(1198);class a extends s.Tag{constructor(){super(),this.Element="div",this.MainOption="id",this.Options=["id"]}Matches(e,t,n){const i=e.Peek(7),r=e.PeekTo("]");return n==o.TagParseContext.Block&&"[vault:"==i&&(null==r?void 0:r.length)>7&&!r.includes("\n")}Parse(e,t,n,o,s){const a=n.Index;if("[vault"!=n.ScanTo(":")||":"!=n.Next())return n.Seek(a,!0),null;const l=n.ScanTo("]");if("]"!=n.Next())return n.Seek(a,!0),null;const c=parseInt(l,10);if(!c)return n.Seek(a,!0),null;const d=["embedded","vault"];null!=this.ElementClass&&d.push(this.ElementClass),n.SkipWhitespace();const u=`<div class="${d.join(" ")}"><div class="embed-container"><div class="embed-content"><div class="uninitialised" data-embed-type="vault" data-vault-id="${c}">Loading embedded content: Vault Item #${c}`,h=new i.HtmlNode(u,r.PlainTextNode.Empty(),"</div></div></div></div>");return h.PlainBefore=`[TWHL vault item #${c}]`,h.PlainAfter="\n",h.IsBlockNode=!0,h}}t.VaultEmbedTag=a},2493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WikiArchiveTag=void 0;const i=n(7034),r=n(7953),o=n(1198);class s extends o.Tag{constructor(){super(),this.Token=null,this.Element=""}Matches(e,t,n){const i=e.Peek(9),r=e.PeekTo("]");return"[archive:"==i&&null!=r&&r.length>9&&!r.includes("\n")}Parse(e,t,n,o,s){const a=n.Index;if("["!=n.Next())return n.Seek(a,!0),null;const l=n.ScanTo("]");if("]"!=n.Next())return n.Seek(a,!0),null;const c=new i.WikiRevisionCredit;c.Type=i.WikiRevisionCredit.TypeArchive;const d=l.split("|");for(const e of d){const t=e.split(":"),n=t[0],r=t.length>1?t.slice(1).join(":"):"";switch(n){case"archive":c.Name=r;break;case"description":c.Description=r;break;case"url":c.Url=r;break;case"wayback":c.WaybackUrl=r;break;case"full":c.Type=i.WikiRevisionCredit.TypeFull}}return null==c.WaybackUrl||null==c.Url||c.WaybackUrl.startsWith("http://")||c.WaybackUrl.startsWith("https://")||!parseInt(c.WaybackUrl,10)||(c.WaybackUrl=`https://web.archive.org/web/${c.WaybackUrl}/${c.Url}`),n.SkipWhitespace(),new r.MetadataNode("WikiCredit",c)}}t.WikiArchiveTag=s},8074:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WikiBookTag=void 0;const i=n(8175),r=n(7953),o=n(1198);class s extends o.Tag{constructor(){super(),this.Token=null,this.Element=""}Matches(e,t,n){const i=e.Peek(6),r=e.PeekTo("]");return"[book:"==i&&null!=r&&r.length>6&&!r.includes("\n")}Parse(e,t,n,o,s){const a=n.Index;if("["!=n.Next())return n.Seek(a,!0),null;const l=n.ScanTo("]");if("]"!=n.Next())return n.Seek(a,!0),null;const c=new i.WikiRevisionBook,d=l.split("|");for(const e of d){const t=e.split(":"),n=t[0],i=t.length>1?t.slice(1).join(":"):"";switch(n){case"book":c.BookName=i;break;case"chapter":c.ChapterName=i;break;case"chapternumber":c.ChapterNumber=parseInt(i,10)||null;break;case"pagenumber":c.PageNumber=parseInt(i,10)||null}}return n.SkipWhitespace(),new r.MetadataNode("WikiBook",c)}}t.WikiBookTag=s},502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WikiCategoryTag=void 0;const i=n(7953),r=n(1198);class o extends r.Tag{constructor(){super(),this.Token=null,this.Element=""}Matches(e,t,n){const i=e.Peek(5),r=e.PeekTo("]");return"[cat:"==i&&null!=r&&r.length>5&&!r.includes("\n")}Parse(e,t,n,r,o){const s=n.Index;if("[cat"!=n.ScanTo(":")||":"!=n.Next())return n.Seek(s,!0),null;const a=n.ScanTo("]");return"]"!=n.Next()?(n.Seek(s,!0),null):(n.SkipWhitespace(),new i.MetadataNode("WikiCategory",a.trim()))}}t.WikiCategoryTag=o},773:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WikiCreditTag=void 0;const i=n(7034),r=n(7953),o=n(1198);class s extends o.Tag{constructor(){super(),this.Token=null,this.Element=""}Matches(e,t,n){const i=e.Peek(8),r=e.PeekTo("]");return"[credit:"==i&&null!=r&&r.length>8&&!r.includes("\n")}Parse(e,t,n,o,s){const a=n.Index;if("["!=n.Next())return n.Seek(a,!0),null;const l=n.ScanTo("]");if("]"!=n.Next())return n.Seek(a,!0),null;const c=new i.WikiRevisionCredit;c.Type=i.WikiRevisionCredit.TypeCredit;const d=l.split("|");for(const e of d){const t=e.split(":"),n=t[0],i=t.length>1?t.slice(1).join(":"):"";switch(n){case"credit":c.Description=i;break;case"user":c.UserID=parseInt(i,10)||null;break;case"name":c.Name=i;break;case"url":c.Url=i}}return n.SkipWhitespace(),new r.MetadataNode("WikiCredit",c)}}t.WikiCreditTag=s},678:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WikiFileTag=void 0;const i=n(7671),r=n(5167),o=n(9449),s=n(7953),a=n(1699),l=n(753),c=n(1198);class d extends c.Tag{constructor(){super()}static GetTag(e){const t=e.Peek(6),n=e.PeekTo("]");return"[file:"==t&&(null==n?void 0:n.length)>6&&!n.includes("\n")?"file":null}Matches(e,t,n){return null!=d.GetTag(e)}Parse(e,t,n,c,u){var h;const g=n.Index,p=d.GetTag(n);if(n.ScanTo(":")!=`[${p}`||":"!=n.Next())return n.Seek(g,!0),null;const m=n.ScanTo("]");if("]"!=n.Next())return n.Seek(g,!0),null;const f=m.match(/^([^#\]]+?)(?:\|([^\]]*?))?$/i);if(!f)return n.Seek(g,!0),null;const b=f[1],v=(null===(h=f[2])||void 0===h?void 0:h.length)>0?f[2]:b,y=r.WikiRevision.CreateSlug(b),w=i.HtmlHelper.AttributeEncode(`https://twhl.info/wiki/embed/${y}`),_=`<span class="embedded-inline download" data-info="${i.HtmlHelper.AttributeEncode(`https://twhl.info/wiki/embed-info/${y}`)}"><a href="${w}"><span class="fa fa-download"></span> `,k=new a.NodeCollection;return k.Nodes.push(new s.MetadataNode("WikiUpload",b)),k.Nodes.push(new l.PlainTextNode(v)),new o.HtmlNode(_,k,"</a></span>")}}t.WikiFileTag=d},2245:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WikiImageTag=void 0;const i=n(7671),r=n(5167),o=n(9449),s=n(7953),a=n(1699),l=n(753),c=n(208),d=n(1198);class u extends d.Tag{constructor(){super(),this.TwhlBehaviour=!1,this.Token=null,this.Element="img"}static GetTag(e){for(const t of this.Tags){const n=e.Peek(2+t.length),i=e.PeekTo("]");if(n==`[${t}:`&&(null==i?void 0:i.length)>2+t.length&&!i.includes("\n"))return t}return null}Matches(e,t,n){return null!=u.GetTag(e)}Parse(e,t,n,d,h){const g=n.Index,p=u.GetTag(n);if(n.ScanTo(":")!=`[${p}`||":"!=n.Next())return n.Seek(g,!0),null;const m=n.ScanTo("]");if("]"!=n.Next())return n.Seek(g,!0),null;const f=m.match(/^([^|\]]*?)(?:\|([^\]]*?))?$/i);if(!f)return n.Seek(g,!0),null;const b=new a.NodeCollection,v=f[1],y=f[2]?f[2].trim().split("|"):[];let w=v;if(!v.includes("/")){if(!this.TwhlBehaviour)return n.Seek(g,!0),null;b.Nodes.push(new s.MetadataNode("WikiUpload",v)),w=`https://twhl.info/wiki/embed/${r.WikiRevision.CreateSlug(v)}`}let _=null,k=null,E=!1;const T=["embedded","image"];null!=this.ElementClass&&T.push(this.ElementClass);for(const e of y){const t=e.toLowerCase();u.IsClass(t)?T.push(t):"loop"==t?E=!0:t.length>4&&"url:"==t.substring(0,4)?_=e.substring(4).trim():k=e.trim()}k&&""!=k.trim()||(k=null),"img"==p&&null!=_&&u.ValidateUrl(_)?this.TwhlBehaviour&&!_.match(/^[a-z]{2,10}:\/\//i)&&(b.Nodes.push(new s.MetadataNode("WikiLink",_)),_=`https://twhl.info/wiki/page/${r.WikiRevision.CreateSlug(_)}`):_="";let x="span";h!=c.TagParseContext.Inline||T.includes("inline")||T.push("inline"),T.includes("inline")||(n.SkipWhitespace(),x="div");const N=u.GetEmbedObject(p,w,k,E);if(null!=N&&b.Nodes.push(N),null!=k){const e=new o.HtmlNode('<span class="caption">',new l.PlainTextNode(k),"</span>");e.PlainBefore=" ",b.Nodes.push(e)}const C=`<${x} class="${T.join(" ")}"`+((null==k?void 0:k.length)>0?` title="${i.HtmlHelper.AttributeEncode(k)}"`:"")+">"+(_.length>0?'<a href="'+i.HtmlHelper.AttributeEncode(_)+'">':"")+'<span class="caption-panel">',A="</span>"+(_.length>0?"</a>":"")+`</${x}>`,O=new o.HtmlNode(C,b,A);return O.IsBlockNode="div"==x,O}static GetEmbedObject(e,t,n,r){switch(t=i.HtmlHelper.AttributeEncode(t),e){case"img":{n=null!=n?n:"User posted image";const e=i.HtmlHelper.AttributeEncode(n),r=new o.HtmlNode(`<img class="caption-body" src="${t}" alt="${e}" />`,l.PlainTextNode.Empty(),"");return r.PlainBefore="[Image]",r}case"video":case"audio":{let n="";r&&(n="autoplay loop muted");const i=new o.HtmlNode(`<${e} class="caption-body" src="${t}" playsinline controls ${n}>Your browser doesn't support embedded ${e}.</${e}>`,l.PlainTextNode.Empty(),"");return i.PlainBefore=e.substring(0,1).toUpperCase()+e.substring(1),i}}return null}static ValidateUrl(e){return!e.includes("<script")}static IsClass(e){return u.ValidClasses.includes(e)}}t.WikiImageTag=u,u.Tags=["img","video","audio"],u.ValidClasses=["large","medium","small","thumb","left","right","center","inline"]},9932:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WikiLinkTag=void 0;const i=n(7671),r=n(5167),o=n(9449),s=n(7953),a=n(1699),l=n(753),c=n(1198);class d extends c.Tag{constructor(){super(),this.Token=null}Matches(e,t,n){const i=e.PeekTo("]]");return(null==i?void 0:i.length)>1&&"["==i[1]&&!i.includes("\n")&&null!=i.substring(2).match(/([^\]]*?)(?:\|([^\]]*?))?/i)}Parse(e,t,n,c,d){const u=n.Index;if("["!=n.Next()||"["!=n.Next())return n.Seek(u,!0),null;const h=n.ScanTo("]]");if("]"!=n.Next()||"]"!=n.Next())return n.Seek(u,!0),null;const g=h.match(/^([^\]]+?)(?:\|([^\]]*?))?$/i);if(!g)return n.Seek(u,!0),null;let p=g[1];const m=g[2]?g[2]:p;let f="";if(p.includes("#")){const e=p.split("#");p=e[0];f="#"+(e.length>1?e.slice(1).join("#"):"").replace(/[^\da-z?/:@\-._~!$&'()*+,;=]/gi,"_")}const b=`<a href="${i.HtmlHelper.AttributeEncode(`https://twhl.info/wiki/page/${r.WikiRevision.CreateSlug(p)}`)+f}">`,v=new a.NodeCollection;return v.Nodes.push(new s.MetadataNode("WikiLink",p)),v.Nodes.push(new l.PlainTextNode(m)),new o.HtmlNode(b,v,"</a>")}}t.WikiLinkTag=d},7959:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WikiYoutubeTag=void 0;const i=n(9449),r=n(753),o=n(208),s=n(1198);class a extends s.Tag{constructor(){super(),this.Token=null,this.Element="div",this.MainOption="id",this.Options=["id"]}Matches(e,t,n){const i=e.Peek(9),r=e.PeekTo("]");return n==o.TagParseContext.Block&&"[youtube:"==i&&null!=r&&r.length>9&&!r.includes("\n")}Parse(e,t,n,o,s){var l,c;const d=n.Index;if("[youtube"!=n.ScanTo(":")||":"!=n.Next())return n.Seek(d,!0),null;const u=n.ScanTo("]");if("]"!=n.Next())return n.Seek(d,!0),null;const h=u.match(/^([^|\]]*?)(?:\|([^\]]*?))?$/i);if(!h)return n.Seek(d,!0),null;const g=h[1],p=null!==(c=null===(l=h[2])||void 0===l?void 0:l.trim().split("|"))&&void 0!==c?c:[];if(!a.ValidateID(g))return n.Seek(d,!0),null;n.SkipWhitespace();let m=null;const f=["embedded","video"];null!=this.ElementClass&&f.push(this.ElementClass);for(const e of p){const t=e.toLowerCase();a.IsClass(t)?f.push(t):m=e.trim()}m&&""!=m.trim()||(m=null);const b=new i.HtmlNode(null!=m?'<span class="caption">':"",new r.PlainTextNode(null!=m?m:""),null!=m?"</span>":"");b.PlainBefore="[YouTube video] ",b.PlainAfter="\n";const v=`<div class="${f.join(" ")}"><div class="caption-panel"><div class="video-container caption-body"><div class="video-content"><div class="uninitialised" data-youtube-id="${g}" style="background-image: url('https://i.ytimg.com/vi/${g}/hqdefault.jpg');"></div></div></div>`,y=new i.HtmlNode(v,b,"</div></div>");return y.IsBlockNode=!0,y}static ValidateID(e){return null!=e.match(/^[a-zA-Z0-9_-]{6,11}$/i)}static IsClass(e){return a.ValidClasses.includes(e)}}t.WikiYoutubeTag=a,a.ValidClasses=["large","medium","small","left","right","center"]},4493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YoutubeTag=void 0;const i=n(9449),r=n(753),o=n(1198);class s extends o.Tag{constructor(){super(),this.Token="youtube",this.Element="div",this.MainOption="id",this.Options=["id"]}FormatResult(e,t,n,o,s,a){let l=a;s.id&&(l=s.id);const c=["embedded","video"];null!=this.ElementClass&&c.push(this.ElementClass);const d=new i.HtmlNode("",r.PlainTextNode.Empty(),"");d.PlainBefore="[YouTube video] ",d.PlainAfter="\n";const u=`<div class="${c.join(" ")}"> <div class="caption-panel">  <div class="video-container caption-body">   <div class="video-content">    <div class="uninitialised" data-youtube-id="${l}" style="background-image: url('https://i.ytimg.com/vi/${l}/hqdefault.jpg');"></div>   </div>  </div>`,h=new i.HtmlNode(u,d,"</div></div>");return h.IsBlockNode=!0,h}Validate(e,t){let n=t;return e.id&&(n=e.id),null!=n.match(/^[a-zA-Z0-9_-]{6,11}$/i)}}t.YoutubeTag=s},8872:(e,t)=>{"use strict";function n(e,t){return Array.from(e).sort(((e,n)=>{const i=t(e),r=t(n);return i<r?-1:i>r?1:0}))}Object.defineProperty(t,"__esModule",{value:!0}),t.Template=t.IndexOfAny=t.OrderByDescending=t.OrderBy=void 0,t.OrderBy=n,t.OrderByDescending=function(e,t){return n(e,t).reverse()},t.IndexOfAny=function(e,t,n=0){let i=-1;for(const r of t){const t=e.indexOf(r,n);t>=0&&(i=i<0?t:Math.min(i,t))}return i},t.Template=function(e,t){return e.replace(/\{(.*?)\}/gi,(function(e,n){return t[n]||""}))}},8885:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Nodes=t.Tags=t.ParserConfiguration=t.Parser=void 0;var i=n(6754);Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return i.Parser}});var r=n(4371);Object.defineProperty(t,"ParserConfiguration",{enumerable:!0,get:function(){return r.ParserConfiguration}});const o=n(1198),s=n(9449),a=n(7953),l=n(1699),c=n(5205),d=n(753),u=n(1366),h=n(542),g=n(4845);t.Tags={Tag:o.Tag},t.Nodes={HtmlNode:s.HtmlNode,MetadataNode:a.MetadataNode,NodeCollection:l.NodeCollection,NodeExtensions:c.NodeExtensions,PlainTextNode:d.PlainTextNode,RefNode:u.RefNode,RemovedNode:h.RemovedNode,UnprocessablePlainTextNode:g.UnprocessablePlainTextNode}},3390:e=>{var t={exports:{}};function n(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach((function(t){var i=e[t];"object"!=typeof i||Object.isFrozen(i)||n(i)})),e}t.exports=n,t.exports.default=n;class i{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function r(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function o(e,...t){const n=Object.create(null);for(const t in e)n[t]=e[t];return t.forEach((function(e){for(const t in e)n[t]=e[t]})),n}const s=e=>!!e.scope||e.sublanguage&&e.language;class a{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=r(e)}openNode(e){if(!s(e))return;let t="";t=e.sublanguage?`language-${e.language}`:((e,{prefix:t})=>{if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map(((e,t)=>`${e}${"_".repeat(t+1)}`))].join(" ")}return`${t}${e}`})(e.scope,{prefix:this.classPrefix}),this.span(t)}closeNode(e){s(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const l=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class c{constructor(){this.rootNode=l(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=l({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach((t=>this._walk(e,t))),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every((e=>"string"==typeof e))?e.children=[e.children.join("")]:e.children.forEach((e=>{c._collapse(e)})))}}class d extends c{constructor(e){super(),this.options=e}addKeyword(e,t){""!==e&&(this.openNode(t),this.addText(e),this.closeNode())}addText(e){""!==e&&this.add(e)}addSublanguage(e,t){const n=e.root;n.sublanguage=!0,n.language=t,this.add(n)}toHTML(){return new a(this,this.options).value()}finalize(){return!0}}function u(e){return e?"string"==typeof e?e:e.source:null}function h(e){return m("(?=",e,")")}function g(e){return m("(?:",e,")*")}function p(e){return m("(?:",e,")?")}function m(...e){return e.map((e=>u(e))).join("")}function f(...e){const t=function(e){const t=e[e.length-1];return"object"==typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(e);return"("+(t.capture?"":"?:")+e.map((e=>u(e))).join("|")+")"}function b(e){return new RegExp(e.toString()+"|").exec("").length-1}const v=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function y(e,{joinWith:t}){let n=0;return e.map((e=>{n+=1;const t=n;let i=u(e),r="";for(;i.length>0;){const e=v.exec(i);if(!e){r+=i;break}r+=i.substring(0,e.index),i=i.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?r+="\\"+String(Number(e[1])+t):(r+=e[0],"("===e[0]&&n++)}return r})).map((e=>`(${e})`)).join(t)}const w="[a-zA-Z]\\w*",_="[a-zA-Z_]\\w*",k="\\b\\d+(\\.\\d+)?",E="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",T="\\b(0b[01]+)",x={begin:"\\\\[\\s\\S]",relevance:0},N={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[x]},C={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[x]},A=function(e,t,n={}){const i=o({scope:"comment",begin:e,end:t,contains:[]},n);i.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const r=f("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return i.contains.push({begin:m(/[ ]+/,"(",r,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),i},O=A("//","$"),S=A("/\\*","\\*/"),P=A("#","$"),M={scope:"number",begin:k,relevance:0},I={scope:"number",begin:E,relevance:0},L={scope:"number",begin:T,relevance:0},R={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[x,{begin:/\[/,end:/\]/,relevance:0,contains:[x]}]}]},j={scope:"title",begin:w,relevance:0},D={scope:"title",begin:_,relevance:0},B={begin:"\\.\\s*"+_,relevance:0};var $=Object.freeze({__proto__:null,MATCH_NOTHING_RE:/\b\B/,IDENT_RE:w,UNDERSCORE_IDENT_RE:_,NUMBER_RE:k,C_NUMBER_RE:E,BINARY_NUMBER_RE:T,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=m(t,/.*\b/,e.binary,/\b.*/)),o({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},BACKSLASH_ESCAPE:x,APOS_STRING_MODE:N,QUOTE_STRING_MODE:C,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},COMMENT:A,C_LINE_COMMENT_MODE:O,C_BLOCK_COMMENT_MODE:S,HASH_COMMENT_MODE:P,NUMBER_MODE:M,C_NUMBER_MODE:I,BINARY_NUMBER_MODE:L,REGEXP_MODE:R,TITLE_MODE:j,UNDERSCORE_TITLE_MODE:D,METHOD_GUARD:B,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})}});function H(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function W(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function z(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=H,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function U(e,t){Array.isArray(e.illegal)&&(e.illegal=f(...e.illegal))}function F(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function G(e,t){void 0===e.relevance&&(e.relevance=1)}const q=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach((t=>{delete e[t]})),e.keywords=n.keywords,e.begin=m(n.beforeMatch,h(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},V=["of","and","for","in","not","or","if","then","parent","list","value"],K="keyword";function Z(e,t,n=K){const i=Object.create(null);return"string"==typeof e?r(n,e.split(" ")):Array.isArray(e)?r(n,e):Object.keys(e).forEach((function(n){Object.assign(i,Z(e[n],t,n))})),i;function r(e,n){t&&(n=n.map((e=>e.toLowerCase()))),n.forEach((function(t){const n=t.split("|");i[n[0]]=[e,Q(n[0],n[1])]}))}}function Q(e,t){return t?Number(t):function(e){return V.includes(e.toLowerCase())}(e)?0:1}const Y={},X=e=>{console.error(e)},J=(e,...t)=>{console.log(`WARN: ${e}`,...t)},ee=(e,t)=>{Y[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),Y[`${e}/${t}`]=!0)},te=new Error;function ne(e,t,{key:n}){let i=0;const r=e[n],o={},s={};for(let e=1;e<=t.length;e++)s[e+i]=r[e],o[e+i]=!0,i+=b(t[e-1]);e[n]=s,e[n]._emit=o,e[n]._multi=!0}function ie(e){!function(e){e.scope&&"object"==typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)}(e),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),function(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw X("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),te;if("object"!=typeof e.beginScope||null===e.beginScope)throw X("beginScope must be object"),te;ne(e,e.begin,{key:"beginScope"}),e.begin=y(e.begin,{joinWith:""})}}(e),function(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw X("skip, excludeEnd, returnEnd not compatible with endScope: {}"),te;if("object"!=typeof e.endScope||null===e.endScope)throw X("endScope must be object"),te;ne(e,e.end,{key:"endScope"}),e.end=y(e.end,{joinWith:""})}}(e)}function re(e){function t(t,n){return new RegExp(u(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=b(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map((e=>e[1]));this.matcherRe=t(y(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex(((e,t)=>t>0&&void 0!==e)),i=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,i)}}class i{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new n;return this.rules.slice(e).forEach((([e,n])=>t.addRule(e,n))),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=o(e.classNameAliases||{}),function n(r,s){const a=r;if(r.isCompiled)return a;[W,F,ie,q].forEach((e=>e(r,s))),e.compilerExtensions.forEach((e=>e(r,s))),r.__beforeBegin=null,[z,U,G].forEach((e=>e(r,s))),r.isCompiled=!0;let l=null;return"object"==typeof r.keywords&&r.keywords.$pattern&&(r.keywords=Object.assign({},r.keywords),l=r.keywords.$pattern,delete r.keywords.$pattern),l=l||/\w+/,r.keywords&&(r.keywords=Z(r.keywords,e.case_insensitive)),a.keywordPatternRe=t(l,!0),s&&(r.begin||(r.begin=/\B|\b/),a.beginRe=t(a.begin),r.end||r.endsWithParent||(r.end=/\B|\b/),r.end&&(a.endRe=t(a.end)),a.terminatorEnd=u(a.end)||"",r.endsWithParent&&s.terminatorEnd&&(a.terminatorEnd+=(r.end?"|":"")+s.terminatorEnd)),r.illegal&&(a.illegalRe=t(r.illegal)),r.contains||(r.contains=[]),r.contains=[].concat(...r.contains.map((function(e){return function(e){e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((function(t){return o(e,{variants:null},t)})));if(e.cachedVariants)return e.cachedVariants;if(oe(e))return o(e,{starts:e.starts?o(e.starts):null});if(Object.isFrozen(e))return o(e);return e}("self"===e?r:e)}))),r.contains.forEach((function(e){n(e,a)})),r.starts&&n(r.starts,s),a.matcher=function(e){const t=new i;return e.contains.forEach((e=>t.addRule(e.begin,{rule:e,type:"begin"}))),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(a),a}(e)}function oe(e){return!!e&&(e.endsWithParent||oe(e.starts))}class se extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const ae=r,le=o,ce=Symbol("nomatch"),de=7;var ue=function(e){const n=Object.create(null),r=Object.create(null),o=[];let s=!0;const a="Could not find the language '{}', did you forget to load/include a language module?",l={disableAutodetect:!0,name:"Plain text",contains:[]};let c={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:d};function u(e){return c.noHighlightRe.test(e)}function b(e,t,n){let i="",r="";"object"==typeof t?(i=e,n=t.ignoreIllegals,r=t.language):(ee("10.7.0","highlight(lang, code, ...args) has been deprecated."),ee("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),r=e,i=t),void 0===n&&(n=!0);const o={code:i,language:r};N("before:highlight",o);const s=o.result?o.result:v(o.language,o.code,n);return s.code=o.code,N("after:highlight",s),s}function v(e,t,r,o){const l=Object.create(null);function d(){if(!x.keywords)return void C.addText(A);let e=0;x.keywordPatternRe.lastIndex=0;let t=x.keywordPatternRe.exec(A),n="";for(;t;){n+=A.substring(e,t.index);const r=_.case_insensitive?t[0].toLowerCase():t[0],o=(i=r,x.keywords[i]);if(o){const[e,i]=o;if(C.addText(n),n="",l[r]=(l[r]||0)+1,l[r]<=de&&(O+=i),e.startsWith("_"))n+=t[0];else{const n=_.classNameAliases[e]||e;C.addKeyword(t[0],n)}}else n+=t[0];e=x.keywordPatternRe.lastIndex,t=x.keywordPatternRe.exec(A)}var i;n+=A.substring(e),C.addText(n)}function u(){null!=x.subLanguage?function(){if(""===A)return;let e=null;if("string"==typeof x.subLanguage){if(!n[x.subLanguage])return void C.addText(A);e=v(x.subLanguage,A,!0,N[x.subLanguage]),N[x.subLanguage]=e._top}else e=y(A,x.subLanguage.length?x.subLanguage:null);x.relevance>0&&(O+=e.relevance),C.addSublanguage(e._emitter,e.language)}():d(),A=""}function h(e,t){let n=1;const i=t.length-1;for(;n<=i;){if(!e._emit[n]){n++;continue}const i=_.classNameAliases[e[n]]||e[n],r=t[n];i?C.addKeyword(r,i):(A=r,d(),A=""),n++}}function g(e,t){return e.scope&&"string"==typeof e.scope&&C.openNode(_.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(C.addKeyword(A,_.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),A=""):e.beginScope._multi&&(h(e.beginScope,t),A="")),x=Object.create(e,{parent:{value:x}}),x}function p(e,t,n){let r=function(e,t){const n=e&&e.exec(t);return n&&0===n.index}(e.endRe,n);if(r){if(e["on:end"]){const n=new i(e);e["on:end"](t,n),n.isMatchIgnored&&(r=!1)}if(r){for(;e.endsParent&&e.parent;)e=e.parent;return e}}if(e.endsWithParent)return p(e.parent,t,n)}function m(e){return 0===x.matcher.regexIndex?(A+=e[0],1):(M=!0,0)}function f(e){const n=e[0],i=t.substring(e.index),r=p(x,e,i);if(!r)return ce;const o=x;x.endScope&&x.endScope._wrap?(u(),C.addKeyword(n,x.endScope._wrap)):x.endScope&&x.endScope._multi?(u(),h(x.endScope,e)):o.skip?A+=n:(o.returnEnd||o.excludeEnd||(A+=n),u(),o.excludeEnd&&(A=n));do{x.scope&&C.closeNode(),x.skip||x.subLanguage||(O+=x.relevance),x=x.parent}while(x!==r.parent);return r.starts&&g(r.starts,e),o.returnEnd?0:n.length}let b={};function w(n,o){const a=o&&o[0];if(A+=n,null==a)return u(),0;if("begin"===b.type&&"end"===o.type&&b.index===o.index&&""===a){if(A+=t.slice(o.index,o.index+1),!s){const t=new Error(`0 width match regex (${e})`);throw t.languageName=e,t.badRule=b.rule,t}return 1}if(b=o,"begin"===o.type)return function(e){const t=e[0],n=e.rule,r=new i(n),o=[n.__beforeBegin,n["on:begin"]];for(const n of o)if(n&&(n(e,r),r.isMatchIgnored))return m(t);return n.skip?A+=t:(n.excludeBegin&&(A+=t),u(),n.returnBegin||n.excludeBegin||(A=t)),g(n,e),n.returnBegin?0:t.length}(o);if("illegal"===o.type&&!r){const e=new Error('Illegal lexeme "'+a+'" for mode "'+(x.scope||"<unnamed>")+'"');throw e.mode=x,e}if("end"===o.type){const e=f(o);if(e!==ce)return e}if("illegal"===o.type&&""===a)return 1;if(P>1e5&&P>3*o.index){throw new Error("potential infinite loop, way more iterations than matches")}return A+=a,a.length}const _=E(e);if(!_)throw X(a.replace("{}",e)),new Error('Unknown language: "'+e+'"');const k=re(_);let T="",x=o||k;const N={},C=new c.__emitter(c);!function(){const e=[];for(let t=x;t!==_;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach((e=>C.openNode(e)))}();let A="",O=0,S=0,P=0,M=!1;try{for(x.matcher.considerAll();;){P++,M?M=!1:x.matcher.considerAll(),x.matcher.lastIndex=S;const e=x.matcher.exec(t);if(!e)break;const n=w(t.substring(S,e.index),e);S=e.index+n}return w(t.substring(S)),C.closeAllNodes(),C.finalize(),T=C.toHTML(),{language:e,value:T,relevance:O,illegal:!1,_emitter:C,_top:x}}catch(n){if(n.message&&n.message.includes("Illegal"))return{language:e,value:ae(t),illegal:!0,relevance:0,_illegalBy:{message:n.message,index:S,context:t.slice(S-100,S+100),mode:n.mode,resultSoFar:T},_emitter:C};if(s)return{language:e,value:ae(t),illegal:!1,relevance:0,errorRaised:n,_emitter:C,_top:x};throw n}}function y(e,t){t=t||c.languages||Object.keys(n);const i=function(e){const t={value:ae(e),illegal:!1,relevance:0,_top:l,_emitter:new c.__emitter(c)};return t._emitter.addText(e),t}(e),r=t.filter(E).filter(x).map((t=>v(t,e,!1)));r.unshift(i);const o=r.sort(((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(E(e.language).supersetOf===t.language)return 1;if(E(t.language).supersetOf===e.language)return-1}return 0})),[s,a]=o,d=s;return d.secondBest=a,d}function w(e){let t=null;const n=function(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=c.languageDetectRe.exec(t);if(n){const t=E(n[1]);return t||(J(a.replace("{}",n[1])),J("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find((e=>u(e)||E(e)))}(e);if(u(n))return;if(N("before:highlightElement",{el:e,language:n}),e.children.length>0&&(c.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(e)),c.throwUnescapedHTML)){throw new se("One of your code blocks includes unescaped HTML.",e.innerHTML)}t=e;const i=t.textContent,o=n?b(i,{language:n,ignoreIllegals:!0}):y(i);e.innerHTML=o.value,function(e,t,n){const i=t&&r[t]||n;e.classList.add("hljs"),e.classList.add(`language-${i}`)}(e,n,o.language),e.result={language:o.language,re:o.relevance,relevance:o.relevance},o.secondBest&&(e.secondBest={language:o.secondBest.language,relevance:o.secondBest.relevance}),N("after:highlightElement",{el:e,result:o,text:i})}let _=!1;function k(){if("loading"===document.readyState)return void(_=!0);document.querySelectorAll(c.cssSelector).forEach(w)}function E(e){return e=(e||"").toLowerCase(),n[e]||n[r[e]]}function T(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach((e=>{r[e.toLowerCase()]=t}))}function x(e){const t=E(e);return t&&!t.disableAutodetect}function N(e,t){const n=e;o.forEach((function(e){e[n]&&e[n](t)}))}"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",(function(){_&&k()}),!1),Object.assign(e,{highlight:b,highlightAuto:y,highlightAll:k,highlightElement:w,highlightBlock:function(e){return ee("10.7.0","highlightBlock will be removed entirely in v12.0"),ee("10.7.0","Please use highlightElement now."),w(e)},configure:function(e){c=le(c,e)},initHighlighting:()=>{k(),ee("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){k(),ee("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(t,i){let r=null;try{r=i(e)}catch(e){if(X("Language definition for '{}' could not be registered.".replace("{}",t)),!s)throw e;X(e),r=l}r.name||(r.name=t),n[t]=r,r.rawDefinition=i.bind(null,e),r.aliases&&T(r.aliases,{languageName:t})},unregisterLanguage:function(e){delete n[e];for(const t of Object.keys(r))r[t]===e&&delete r[t]},listLanguages:function(){return Object.keys(n)},getLanguage:E,registerAliases:T,autoDetection:x,inherit:le,addPlugin:function(e){!function(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}(e),o.push(e)}}),e.debugMode=function(){s=!1},e.safeMode=function(){s=!0},e.versionString="11.7.0",e.regex={concat:m,lookahead:h,either:f,optional:p,anyNumberOfTimes:g};for(const e in $)"object"==typeof $[e]&&t.exports($[e]);return Object.assign(e,$),e}({});e.exports=ue,ue.HighlightJS=ue,ue.default=ue},2921:e=>{e.exports=function(e){const t={className:"built_in",begin:"\\b(void|bool|int8|int16|int32|int64|int|uint8|uint16|uint32|uint64|uint|string|ref|array|double|float|auto|dictionary)"},n={className:"symbol",begin:"[a-zA-Z0-9_]+@"},i={className:"keyword",begin:"<",end:">",contains:[t,n]};return t.contains=[i],n.contains=[i],{name:"AngelScript",aliases:["asc"],keywords:["for","in|0","break","continue","while","do|0","return","if","else","case","switch","namespace","is","cast","or","and","xor","not","get|0","in","inout|10","out","override","set|0","private","public","const","default|0","final","shared","external","mixin|10","enum","typedef","funcdef","this","super","import","from","interface","abstract|0","try","catch","protected","explicit","property"],illegal:"(^using\\s+[A-Za-z0-9_\\.]+;$|\\bfunction\\s*[^\\(])",contains:[{className:"string",begin:"'",end:"'",illegal:"\\n",contains:[e.BACKSLASH_ESCAPE],relevance:0},{className:"string",begin:'"""',end:'"""'},{className:"string",begin:'"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE],relevance:0},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",begin:"^\\s*\\[",end:"\\]"},{beginKeywords:"interface namespace",end:/\{/,illegal:"[;.\\-]",contains:[{className:"symbol",begin:"[a-zA-Z0-9_]+"}]},{beginKeywords:"class",end:/\{/,illegal:"[;.\\-]",contains:[{className:"symbol",begin:"[a-zA-Z0-9_]+",contains:[{begin:"[:,]\\s*",contains:[{className:"symbol",begin:"[a-zA-Z0-9_]+"}]}]}]},t,n,{className:"literal",begin:"\\b(null|true|false)"},{className:"number",relevance:0,begin:"(-?)(\\b0[xXbBoOdD][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?f?|\\.\\d+f?)([eE][-+]?\\d+f?)?)"}]}}},6248:e=>{e.exports=function(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),i="decltype\\(auto\\)",r="[a-zA-Z_]\\w*::",o="(?!struct)("+i+"|"+t.optional(r)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",s={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},a={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},c={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(a,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},d={className:"title",begin:t.optional(r)+e.IDENT_RE,relevance:0},u=t.optional(r)+e.IDENT_RE+"\\s*\\(",h={type:["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],keyword:["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"]},g={className:"function.dispatch",relevance:0,keywords:{_hint:["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"]},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},p=[g,c,s,n,e.C_BLOCK_COMMENT_MODE,l,a],m={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:h,contains:p.concat([{begin:/\(/,end:/\)/,keywords:h,contains:p.concat(["self"]),relevance:0}]),relevance:0},f={className:"function",begin:"("+o+"[\\*&\\s]+)+"+u,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:h,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:i,keywords:h,relevance:0},{begin:u,returnBegin:!0,contains:[d],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[a,l]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:h,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,a,l,s,{begin:/\(/,end:/\)/,keywords:h,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,a,l,s]}]},s,n,e.C_BLOCK_COMMENT_MODE,c]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:h,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(m,f,g,p,[c,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:h,contains:["self",s]},{begin:e.IDENT_RE+"::",keywords:h},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}},3707:e=>{e.exports=function(e){const t={keyword:["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"].concat(["add","alias","and","ascending","async","await","by","descending","equals","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","remove","select","set","unmanaged","value|0","var","when","where","with","yield"]),built_in:["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],literal:["default","false","null","true"]},n=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),i={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},r={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},o=e.inherit(r,{illegal:/\n/}),s={className:"subst",begin:/\{/,end:/\}/,keywords:t},a=e.inherit(s,{illegal:/\n/}),l={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,a]},c={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},s]},d=e.inherit(c,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},a]});s.contains=[c,l,r,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,i,e.C_BLOCK_COMMENT_MODE],a.contains=[d,l,o,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,i,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const u={variants:[c,l,r,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},h={begin:"<",end:">",contains:[{beginKeywords:"in out"},n]},g=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",p={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:t,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"\x3c!--|--\x3e"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},u,i,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},n,h,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,h,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+g+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:t,contains:[{beginKeywords:["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"].join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,h],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:t,relevance:0,contains:[u,i,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},p]}}},5064:e=>{const t=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),n=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],i=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],r=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],o=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],s=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();e.exports=function(e){const a=e.regex,l=t(e),c=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[l.BLOCK_COMMENT,{begin:/-(webkit|moz|ms|o)-(?=[a-z])/},l.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\.[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},l.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+r.join("|")+")"},{begin:":(:)?("+o.join("|")+")"}]},l.CSS_VARIABLE,{className:"attribute",begin:"\\b("+s.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[l.BLOCK_COMMENT,l.HEXCOLOR,l.IMPORTANT,l.CSS_NUMBER_MODE,...c,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...c,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},l.FUNCTION_DISPATCH]},{begin:a.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:/@-?\w[\w]*(-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:i.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...c,l.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+n.join("|")+")\\b"}]}}},605:e=>{e.exports=function(e){const t=e.COMMENT(/^\s*@?rem\b/,/$/,{relevance:10});return{name:"Batch file (DOS)",aliases:["bat","cmd"],case_insensitive:!0,illegal:/\/\*/,keywords:{keyword:["if","else","goto","for","in","do","call","exit","not","exist","errorlevel","defined","equ","neq","lss","leq","gtr","geq"],built_in:["prn","nul","lpt3","lpt2","lpt1","con","com4","com3","com2","com1","aux","shift","cd","dir","echo","setlocal","endlocal","set","pause","copy","append","assoc","at","attrib","break","cacls","cd","chcp","chdir","chkdsk","chkntfs","cls","cmd","color","comp","compact","convert","date","dir","diskcomp","diskcopy","doskey","erase","fs","find","findstr","format","ftype","graftabl","help","keyb","label","md","mkdir","mode","more","move","path","pause","print","popd","pushd","promt","rd","recover","rem","rename","replace","restore","rmdir","shift","sort","start","subst","time","title","tree","type","ver","verify","vol","ping","net","ipconfig","taskkill","xcopy","ren","del"]},contains:[{className:"variable",begin:/%%[^ ]|%[^ ]+?%|![^ ]+?!/},{className:"function",begin:"^\\s*[A-Za-z._?][A-Za-z0-9_$#@~.?]*(:|\\s+label)",end:"goto:eof",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),t]},{className:"number",begin:"\\b\\d+",relevance:0},t]}}},4762:e=>{e.exports=function(e){const t=e.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},i=e.COMMENT();i.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const r={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},o={className:"literal",begin:/\bon|off|true|false|yes|no\b/},s={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},a={begin:/\[/,end:/\]/,contains:[i,o,r,s,n,"self"],relevance:0},l=t.either(/[A-Za-z0-9_-]+/,/"(\\"|[^"])*"/,/'[^']*'/);return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[i,{className:"section",begin:/\[+/,end:/\]+/},{begin:t.concat(l,"(\\s*\\.\\s*",l,")*",t.lookahead(/\s*=\s*[^#\s]/)),className:"attr",starts:{end:/$/,contains:[i,a,o,r,s,n]}}]}}},978:e=>{const t="[A-Za-z$_][0-9A-Za-z$_]*",n=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],i=["true","false","null","undefined","NaN","Infinity"],r=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],o=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],s=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],a=["arguments","this","super","console","window","document","localStorage","module","global"],l=[].concat(s,r,o);e.exports=function(e){const c=e.regex,d=t,u="<>",h="</>",g={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const n=e[0].length+e.index,i=e.input[n];if("<"===i||","===i)return void t.ignoreMatch();let r;">"===i&&(((e,{after:t})=>{const n="</"+e[0].slice(1);return-1!==e.input.indexOf(n,t)})(e,{after:n})||t.ignoreMatch());const o=e.input.substring(n);((r=o.match(/^\s*=/))||(r=o.match(/^\s+extends\s+/))&&0===r.index)&&t.ignoreMatch()}},p={$pattern:t,keyword:n,literal:i,built_in:l,"variable.language":a},m="[0-9](_?[0-9])*",f=`\\.(${m})`,b="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",v={className:"number",variants:[{begin:`(\\b(${b})((${f})|\\.)?|(${f}))[eE][+-]?(${m})\\b`},{begin:`\\b(${b})\\b((${f})\\b|\\.)?|(${f})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},y={className:"subst",begin:"\\$\\{",end:"\\}",keywords:p,contains:[]},w={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,y],subLanguage:"xml"}},_={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,y],subLanguage:"css"}},k={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,y]},E={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:d+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},T=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,w,_,k,{match:/\$\d+/},v];y.contains=T.concat({begin:/\{/,end:/\}/,keywords:p,contains:["self"].concat(T)});const x=[].concat(E,y.contains),N=x.concat([{begin:/\(/,end:/\)/,keywords:p,contains:["self"].concat(x)}]),C={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:p,contains:N},A={variants:[{match:[/class/,/\s+/,d,/\s+/,/extends/,/\s+/,c.concat(d,"(",c.concat(/\./,d),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,d],scope:{1:"keyword",3:"title.class"}}]},O={relevance:0,match:c.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...r,...o]}},S={variants:[{match:[/function/,/\s+/,d,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[C],illegal:/%/},P={match:c.concat(/\b/,(M=[...s,"super","import"],c.concat("(?!",M.join("|"),")")),d,c.lookahead(/\(/)),className:"title.function",relevance:0};var M;const I={begin:c.concat(/\./,c.lookahead(c.concat(d,/(?![0-9A-Za-z$_(])/))),end:d,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},L={match:[/get|set/,/\s+/,d,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},C]},R="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",j={match:[/const|var|let/,/\s+/,d,/\s*/,/=\s*/,/(async\s*)?/,c.lookahead(R)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[C]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:p,exports:{PARAMS_CONTAINS:N,CLASS_REFERENCE:O},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,w,_,k,E,{match:/\$\d+/},v,O,{className:"attr",begin:d+c.lookahead(":"),relevance:0},j,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[E,e.REGEXP_MODE,{className:"function",begin:R,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:p,contains:N}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:u,end:h},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:g.begin,"on:begin":g.isTrulyOpeningTag,end:g.end}],subLanguage:"xml",contains:[{begin:g.begin,end:g.end,skip:!0,contains:["self"]}]}]},S,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[C,e.inherit(e.TITLE_MODE,{begin:d,className:"title.function"})]},{match:/\.\.\./,relevance:0},I,{match:"\\$"+d,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[C]},P,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},A,L,{match:/\$[(.]/}]}}},14:e=>{e.exports=function(e){const t=["true","false","null"],n={scope:"literal",beginKeywords:t.join(" ")};return{name:"JSON",keywords:{literal:t},contains:[{className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},{match:/[{}[\],:]/,className:"punctuation",relevance:0},e.QUOTE_STRING_MODE,n,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}},2656:e=>{e.exports=function(e){const t=e.regex,n=/(?![A-Za-z0-9])(?![$])/,i=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),r=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),o={scope:"variable",match:"\\$+"+i},s={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},a=e.inherit(e.APOS_STRING_MODE,{illegal:null}),l="[ \t\n]",c={scope:"string",variants:[e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(s)}),a,e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*(\w+)\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(s)})]},d={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},u=["false","null","true"],h=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],g=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],p={keyword:h,literal:(e=>{const t=[];return e.forEach((e=>{t.push(e),e.toLowerCase()===e?t.push(e.toUpperCase()):t.push(e.toLowerCase())})),t})(u),built_in:g},m=e=>e.map((e=>e.replace(/\|\d+$/,""))),f={variants:[{match:[/new/,t.concat(l,"+"),t.concat("(?!",m(g).join("\\b|"),"\\b)"),r],scope:{1:"keyword",4:"title.class"}}]},b=t.concat(i,"\\b(?!\\()"),v={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),b],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[r,t.concat(/::/,t.lookahead(/(?!class\b)/)),b],scope:{1:"title.class",3:"variable.constant"}},{match:[r,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[r,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},y={scope:"attr",match:t.concat(i,t.lookahead(":"),t.lookahead(/(?!::)/))},w={relevance:0,begin:/\(/,end:/\)/,keywords:p,contains:[y,o,v,e.C_BLOCK_COMMENT_MODE,c,d,f]},_={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",m(h).join("\\b|"),"|",m(g).join("\\b|"),"\\b)"),i,t.concat(l,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[w]};w.contains.push(_);const k=[y,v,e.C_BLOCK_COMMENT_MODE,c,d,f];return{case_insensitive:!1,keywords:p,contains:[{begin:t.concat(/#\[\s*/,r),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:u,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:u,keyword:["new","array"]},contains:["self",...k]},...k,{scope:"meta",match:r}]},e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},{scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},{scope:"variable.language",match:/\$this\b/},o,_,v,{match:[/const/,/\s/,i],scope:{1:"keyword",3:"variable.constant"}},f,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:p,contains:["self",o,v,e.C_BLOCK_COMMENT_MODE,c,d]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},c,d]}}},4610:e=>{e.exports=function(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},r={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=e.inherit(r,{begin:/\(/,end:/\)/}),s=e.inherit(e.APOS_STRING_MODE,{className:"string"}),a=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),l={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/[\p{L}0-9._:-]+/u,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[r,a,s,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[r,o,a,s]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[a]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[l],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[l],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:l}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}};return t[e].call(o.exports,o,o.exports,i),o.exports}i.m=t,e=[],i.O=(t,n,r,o)=>{if(!n){var s=1/0;for(d=0;d<e.length;d++){for(var[n,r,o]=e[d],a=!0,l=0;l<n.length;l++)(!1&o||s>=o)&&Object.keys(i.O).every((e=>i.O[e](n[l])))?n.splice(l--,1):(a=!1,o<s&&(s=o));if(a){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,r,o]},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={773:0,170:0};i.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[s,a,l]=n,c=0;if(s.some((t=>0!==e[t]))){for(r in a)i.o(a,r)&&(i.m[r]=a[r]);if(l)var d=l(i)}for(t&&t(n);c<s.length;c++)o=s[c],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(d)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),i.O(void 0,[170],(()=>i(7080)));var r=i.O(void 0,[170],(()=>i(7792)));r=i.O(r)})();